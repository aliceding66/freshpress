{"version":3,"sources":["webpack:///./scripts/helpers/_attributes.js","webpack:///./scripts/helpers/_blocks.js","webpack:///./scripts/helpers/_csv.js","webpack:///./scripts/helpers/_events.js","webpack:///./scripts/helpers/_fbtools.js","webpack:///./scripts/helpers/_fpbk_blocks.js","webpack:///./scripts/helpers/_lite_youtube.js","webpack:///./scripts/helpers/_strings.js","webpack:///./scripts/helpers/_utils.js"],"names":["datasetKeyName","attrName","toCamelCase","replace","getDataAttr","element","hasDataAttr","datasetKey","dataset","startsWith","hasAttribute","setDataAttr","attrValue","undefined","getAttrOrData","getAttribute","hasAttrOrData","initBlock","selector","callback","event","container","document","addEventListener","blocks","querySelectorAll","forEach","block","strGetCsv","input","delimiter","enclosure","enclosedMap","enclosedRegex","RegExp","enclosedRegexResult","match","length","enclosedString","enclosedIndex","split","map","chunk","Object","entries","key","value","fpParseCsv","trimFields","fields","replacement","replaced","join","rows","output","headers","shift","data","row","values","trim","outputDataHeaders","header","toLowerCase","outputData","Map","valueIndex","set","push","fpFormatVartype","string","boolArray","indexOf","isNumber","Number","addEventListeners","elements","events","handler","Array","isArray","from","el","ev","emptyPrice","emptyPercent","emptyNumber","iconHasErrorClass","inputHasErrorClass","formatRounded","number","showOneDecimal","Math","round","stringValue","String","test","substring","formatPrice","price","formatPercent","percent","generateBlockId","blockName","randomString","chars","i","randomChar","floor","random","toString","hash","BlockStateManager","constructor","attributes","setAttributes","timeouts","lockPostSaving","unlockPostSaving","useDispatch","lockEditorKey","lockEditor","unlockEditor","addReducerManager","reducer","fieldName","proxyTimeout","state","dispatch","useReducer","addStateManager","setState","useState","timeoutName","useEffect","clearTimeout","setTimeout","_","playVideo","videoNode","videoIframe","querySelector","contentWindow","postMessage","click","pauseVideo","toKebabCase","part","index","toTitleCase","forceLower","dashify","condense","toPascalCase","toSnakeCase","options","exceptions","firstChar","charAt","toUpperCase","otherChars","slice","convertCase","format","trimChar","char","start","end","isNfbCustomer","readCookie","initSmoothScroll","additionalOffset","smoothscroll","polyfill","scrollAnchors","anchor","e","isValidSelector","target","getBoundingClientRect","preventDefault","offset","parseInt","height","window","scrollTo","top","scrollY","behavior","cleanupTelLinks","navigator","userAgent","matchMedia","matches","telLinks","closest","removeAttribute","getDomainFromFQDN","fqdn","domainParts","isSameDomain","url","host","parseUrl","location","externalLinksPatcher","filter","a","href","link","setAttribute","rel","addStickyTopObserver","stickyTopEls","computedStyles","getComputedStyle","sentinel","createElement","classList","add","style","parentElement","insertBefore","IntersectionObserver","entry","intersectionRatio","nextElementSibling","remove","observe","addStickyBottomObserver","stickyBottomEls","addRemoveStuckClass","contains","isBefore","pageYOffset","innerHeight","offsetTop","clientHeight","createDocumentFragment","replaceRegionalisedUrls","euDefaultFor","defaultUe","euDefaultCountryCode","countryCodeCookie","fbVars","i18n","supportedRegions","siteLangCode","countryCode","getSuggestedCountryCode","includes","keys","targetRegion","targetSignupLink","sitePaths","signup","targetPricingLink","pricing","signupLinks","pathname","pricingLinks","query","origin","protocol","urlParts","exec","parseQueryString","decode","params","param","parts","p","decodeURIComponent","setTrialLengthCookie","trialLength","body","tl","createCookieIfMissing","initOpenModalLinks","buttonsWithModals","buttonWithModal","$","modal"],"mappings":"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","file":"scripts/common-helpers.js","sourcesContent":["/**\n * Helper functions for dealing with HTMLElement attributes and data-attributes.\n */\n\nimport { toCamelCase } from 'scripts/helpers/_strings';\n\n/**\n * @param {string} attrName\n * @return {string} Formatted data key.\n */\nexport const datasetKeyName = ( attrName = '' ) => {\n\treturn toCamelCase( attrName.replace( /^(?:data-|data([A-Z]))/, '$1' ) );\n};\n\n/**\n * Get the value of a data-attribute from a DOM element.\n *\n * @param {HTMLElement} element  DOM element.\n * @param {string}      attrName Attribute name with optional data- prefix (eg, 'data-example' or 'example').\n */\nexport const getDataAttr = ( element, attrName ) => {\n\tif ( hasDataAttr( element, attrName ) ) {\n\t\tconst datasetKey = datasetKeyName( attrName );\n\t\tif ( datasetKey && datasetKey in element.dataset ) {\n\t\t\treturn element.dataset[ datasetKey ];\n\t\t}\n\t}\n\n\t// Returns null to match the spec of getAttribute.\n\treturn null;\n};\n\n/**\n * Check if an element has a given data-attribute.\n *\n * @param {HTMLElement} element  DOM element.\n * @param {string}      attrName Attribute name with optional data- prefix (eg, 'data-example' or 'example').\n */\nexport const hasDataAttr = ( element, attrName ) => {\n\tif ( element && attrName ) {\n\t\treturn (\n\t\t\t( attrName.startsWith( 'data-' ) && element.hasAttribute( attrName ) ) ||\n\t\t\telement.hasAttribute( `data-${ attrName }` )\n\t\t);\n\t}\n\n\t// Returns false to match the spec of hasAttribute.\n\treturn false;\n};\n\n/**\n * Set the value of a data-attribute for a DOM element.\n *\n * @param {HTMLElement} element   DOM element.\n * @param {string}      attrName  Attribute name with optional data- prefix (eg, 'data-example' or 'example').\n * @param {string}      attrValue Attribute value.\n */\nexport const setDataAttr = ( element, attrName, attrValue ) => {\n\tif ( element && attrName && undefined !== attrValue ) {\n\t\tconst datasetKey = datasetKeyName( attrName );\n\t\tif ( datasetKey ) {\n\t\t\telement.dataset[ datasetKey ] = attrValue;\n\t\t}\n\t}\n};\n\n/**\n * Get the value of an attribute from an element as either a standard\n * DOM attribute or data-attribute.\n *\n * @param {HTMLElement} element  DOM element.\n * @param {string}      attrName Attribute name with optional data- prefix (eg, 'data-example' or 'example').\n */\nexport const getAttrOrData = ( element, attrName ) => {\n\tif ( element && attrName ) {\n\t\tif ( hasDataAttr( element, attrName ) ) {\n\t\t\treturn getDataAttr( element, attrName );\n\t\t}\n\t\tif ( element.hasAttribute( attrName ) ) {\n\t\t\treturn element.getAttribute( attrName );\n\t\t}\n\n\t\treturn element.getAttribute( attrName.replace( /^data-/, '' ) );\n\t}\n\n\t// Returns null to match the spec of getAttribute.\n\treturn null;\n};\n\n/**\n * Check if an element has an attribute as a standard DOM attribute\n * or data-attribute.\n *\n * @param {HTMLElement} element  DOM element.\n * @param {string}      attrName Attribute name with optional data- prefix (eg, 'data-example' or 'example').\n */\nexport const hasAttrOrData = ( element, attrName ) => {\n\tif ( element && attrName ) {\n\t\treturn (\n\t\t\telement.hasAttribute( attrName ) ||\n\t\t\telement.hasAttribute( attrName.replace( /^data-/, '' ) ) ||\n\t\t\thasDataAttr( element, attrName )\n\t\t);\n\t}\n\n\t// Returns false to match the spec of hasAttribute.\n\treturn false;\n};\n","/**\n * Small helper functions for blocks.\n */\n\n/**\n * Initialiase all instances of a block. Defaults to triggering on DOMContentLoaded\n * for the document element.\n *\n * @param {string} selector CSS selector for the blocks to be initialised.\n * @param {Function} callback Callback function to be executed on each block.\n * @param {string} [event=DOMContentLoaded] Event to listen to.\n * @param {HTMLElement} [container=document] DOM object to use as a container for events and queries.\n */\nexport const initBlock = (\n\tselector,\n\tcallback,\n\tevent = 'DOMContentLoaded',\n\tcontainer = document\n) => {\n\tcontainer.addEventListener( event, () => {\n\t\tconst blocks = container.querySelectorAll( selector );\n\t\tif ( blocks ) {\n\t\t\tblocks.forEach( ( block ) => {\n\t\t\t\tcallback( block );\n\t\t\t} );\n\t\t}\n\t} );\n};\n","import { isNumber } from '../modules/_validation';\n\n/**\n * Simple equivalent of PHP's str_getcsv().\n *\n * @param {string} input\n * @param {string} delimiter\n * @param {string} enclosure\n * @return {*[]} Array of data from CSV string.\n */\nexport function strGetCsv( input, delimiter = ',', enclosure = '\"' ) {\n\tconst enclosedMap = [];\n\tconst enclosedRegex = new RegExp( `${ enclosure }[^${ enclosure };]+${ enclosure }`, 'g' );\n\tconst enclosedRegexResult = input.match( enclosedRegex );\n\tif ( enclosedRegexResult && enclosedRegexResult.length > 0 ) {\n\t\tenclosedRegexResult.forEach( ( enclosedString, enclosedIndex ) => {\n\t\t\tenclosedIndex = `++__++${ enclosedIndex }++__++`;\n\t\t\tenclosedMap[ enclosedIndex ] = enclosedString;\n\t\t\tinput = input.replace( enclosedString, enclosedIndex );\n\t\t} );\n\t}\n\n\treturn input.split( delimiter ).map( ( chunk ) => {\n\t\tObject.entries( enclosedMap ).forEach( ( [ key, value ] ) => {\n\t\t\tchunk = chunk.replace( key, value );\n\t\t} );\n\n\t\treturn chunk;\n\t} );\n}\n\n/**\n * Equivalent of PHP's fp_parse_csv().\n *\n * @param {string} input\n * @param {string} delimiter\n * @param {boolean} trimFields\n * @return {{headers: *[], data: *[]}} Return formatted CSV data.\n */\nexport function fpParseCsv( input, delimiter = ',', trimFields = true ) {\n\tinput = input.replace( /,\"[^\"]*R[^\"]*\"/g, function ( fields ) {\n\t\tconst replacement = fields[ 0 ].split( /RR/ );\n\t\tconst replaced = replacement.join( '!n!!n!' );\n\t\treturn replaced.replace( /R/, '!n!' );\n\t} );\n\n\t// prettier-ignore\n\tconst rows = input.split( \"\\n\" );\n\n\tconst output = {\n\t\theaders: rows.shift().split( delimiter ),\n\t\tdata: [],\n\t};\n\n\trows.forEach( ( row ) => {\n\t\trow = row.replace( /!n!/g, '\\n' );\n\t\t// let values = row.split( delimiter );\n\t\tlet values = strGetCsv( row, delimiter );\n\t\tif ( values.length > 0 ) {\n\t\t\tif ( trimFields ) {\n\t\t\t\tvalues = values.map( ( value ) => value.trim() );\n\t\t\t}\n\n\t\t\tconst outputDataHeaders = output.headers.map( ( header ) => header.toLowerCase() );\n\t\t\tconst outputData = new Map();\n\t\t\tvalues.forEach( ( value, valueIndex ) => {\n\t\t\t\tif ( outputDataHeaders[ valueIndex ] !== undefined ) {\n\t\t\t\t\toutputData.set( outputDataHeaders[ valueIndex ], value );\n\t\t\t\t}\n\t\t\t} );\n\t\t\toutput.data.push( outputData );\n\t\t}\n\t} );\n\n\treturn output;\n}\n\n/**\n * Equivalent of PHP's fp_format_vartype().\n *\n * @param {string} string\n * @return {*} Return value in proper type.\n */\nexport function fpFormatVartype( string ) {\n\t// Check for boolean.\n\tconst boolArray = [ 'true', 'false', '1', '0', 'yes', 'no' ];\n\tif ( typeof string === 'string' && boolArray.indexOf( string.toLowerCase() ) >= 0 ) {\n\t\treturn (\n\t\t\tstring.toLowerCase() === 'true' ||\n\t\t\tstring.toLowerCase() === '1' ||\n\t\t\tstring.toLowerCase() === 'yes'\n\t\t);\n\t}\n\n\t// Check if numeric.\n\tif ( isNumber( string ) ) {\n\t\treturn Number( string );\n\t}\n\n\t// ...or return unmodified string.\n\treturn string;\n}\n","/**\n * Helper functions for dealing with DOM Events.\n */\n\n/**\n * Add listeners for one or more events to one or more elements.\n *\n * @param {Array|NodeList|EventTarget} elements An element or an Array or NodeList (array-like) of elements.\n * @param {string}                     events   Events to listen for (space separated).\n * @param {Function}                   handler  Handler function to run.\n */\nexport const addEventListeners = ( elements, events, handler ) => {\n\tif ( ! elements || ! events || 'string' !== typeof events || 'function' !== typeof handler ) {\n\t\treturn;\n\t}\n\n\t// Ensure elements is an array.\n\tif ( ! Array.isArray( elements ) ) {\n\t\telements =\n\t\t\t'function' === typeof elements.addEventListener ? [ elements ] : Array.from( elements );\n\t}\n\n\t// Convert the event names to an array for looping.\n\tevents = events.split( ' ' );\n\n\tif ( elements.length && events.length ) {\n\t\telements.forEach( ( el ) => {\n\t\t\tevents.forEach( ( ev ) => {\n\t\t\t\tif ( el && 'function' === typeof el.addEventListener ) {\n\t\t\t\t\tel.addEventListener( ev, handler, false );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n};\n","/**\n * Helper functions for FB Tools blocks.\n */\nexport const emptyPrice = '$0.00';\nexport const emptyPercent = '0.00%';\nexport const emptyNumber = '0';\nexport const iconHasErrorClass = 'freshpress-tools--icon--has-error';\nexport const inputHasErrorClass = 'freshpress-tools--input-field--has-error';\n\n/**\n * @param {any} number\n * @param {boolean} showOneDecimal\n * @return {number} 2 decimalsToShow rounded number.\n */\nexport const formatRounded = ( number, showOneDecimal = false ) => {\n\tconst value = Math.round( number * 100 ) / 100;\n\tif ( showOneDecimal ) {\n\t\tconst stringValue = String( value );\n\n\t\tif ( /\\.\\d{2,}/.test( stringValue ) ) {\n\t\t\treturn Number( stringValue.substring( 0, stringValue.length - 1 ) );\n\t\t}\n\t}\n\n\treturn value;\n};\n\n/**\n * @param {any} price\n * @return {string} Formatted price in dollars value.\n */\nexport const formatPrice = ( price ) => {\n\tprice = String( price );\n\treturn price.trim() !== '' && price.trim() !== '$' ? `$${ price.replace( /\\$/g, '' ) }` : '';\n};\n\n/**\n * @param {any} percent\n * @return {string} Formatted percent value.\n */\nexport const formatPercent = ( percent ) => {\n\tpercent = String( percent );\n\treturn percent.trim() !== '' && percent.trim() !== '%'\n\t\t? `${ percent.replace( /%/g, '' ) }%`\n\t\t: '';\n};\n","import { useDispatch } from '@wordpress/data';\nimport { useEffect, useReducer, useState } from '@wordpress/element';\n\n/**\n * Helper functions for working with Gutenberg's blocks.\n */\n\n/**\n * @param {string} blockName\n * @return {string} Returns block ID value.\n */\nexport function generateBlockId( blockName ) {\n\tconst randomString = ( length ) => {\n\t\tconst chars = [];\n\n\t\tfor ( let i = 0; i < length; i++ ) {\n\t\t\tconst randomChar = Math.floor( Math.random() * 36 );\n\t\t\tchars.push( randomChar.toString( 36 ) );\n\t\t}\n\n\t\treturn chars.join( '' );\n\t};\n\n\tconst hash = randomString( 4 );\n\treturn `${ blockName.replace( '/', '-' ) }-${ hash }`;\n}\n\nexport class BlockStateManager {\n\tconstructor( attributes, setAttributes ) {\n\t\tthis.attributes = attributes;\n\t\tthis.setAttributes = setAttributes;\n\t\tthis.timeouts = {};\n\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tconst { lockPostSaving, unlockPostSaving } = useDispatch( 'core/editor' );\n\t\tconst lockEditorKey = 'BlockStateManagerProxy';\n\t\tthis.lockEditor = () => lockPostSaving( lockEditorKey );\n\t\tthis.unlockEditor = () => unlockPostSaving( lockEditorKey );\n\t}\n\n\taddReducerManager( reducer, fieldName, proxyTimeout = 100 ) {\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tconst [ state, dispatch ] = useReducer( reducer, this.attributes[ fieldName ] );\n\n\t\tthis.#setProxy( fieldName, `reducer_${ fieldName }`, state, proxyTimeout );\n\n\t\treturn [ state, dispatch ];\n\t}\n\n\taddStateManager( fieldName, proxyTimeout = 100 ) {\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tconst [ state, setState ] = useState( this.attributes[ fieldName ] );\n\n\t\tthis.#setProxy( fieldName, `state_${ fieldName }`, state, proxyTimeout );\n\n\t\treturn [ state, setState ];\n\t}\n\n\t#setProxy( fieldName, timeoutName, state, proxyTimeout ) {\n\t\ttry {\n\t\t\tthis.timeouts[ timeoutName ] = null;\n\n\t\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\t\tuseEffect( () => {\n\t\t\t\tthis.lockEditor();\n\t\t\t\tif ( proxyTimeout > 0 ) {\n\t\t\t\t\tif ( this.timeouts[ timeoutName ] ) {\n\t\t\t\t\t\tclearTimeout( this.timeouts[ timeoutName ] );\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.timeouts[ timeoutName ] = setTimeout( () => {\n\t\t\t\t\t\tthis.setAttributes( { [ fieldName ]: state } );\n\t\t\t\t\t\tthis.unlockEditor();\n\t\t\t\t\t}, proxyTimeout );\n\t\t\t\t} else {\n\t\t\t\t\tthis.setAttributes( { [ fieldName ]: state } );\n\t\t\t\t\tthis.unlockEditor();\n\t\t\t\t}\n\t\t\t}, [ state ] );\n\t\t} catch ( _ ) {\n\t\t\tthis.unlockEditor();\n\t\t}\n\t}\n}\n","/**\n * Lite YouTube helpers.\n */\n\n/**\n * Play embedded YT video.\n *\n * @param {Node} videoNode\n */\nexport const playVideo = ( videoNode ) => {\n\tconst videoIframe = videoNode.querySelector( 'iframe' );\n\tif ( videoIframe ) {\n\t\tvideoIframe.contentWindow.postMessage(\n\t\t\t'{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}',\n\t\t\t'*'\n\t\t);\n\t} else {\n\t\tvideoNode.click();\n\t}\n};\n\n/**\n * Pause embedded YT video.\n *\n * @param {Node} videoNode\n */\nexport const pauseVideo = ( videoNode ) => {\n\tconst videoIframe = videoNode.querySelector( 'iframe' );\n\tif ( videoIframe ) {\n\t\tvideoIframe.contentWindow.postMessage(\n\t\t\t'{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}',\n\t\t\t'*'\n\t\t);\n\t} else {\n\t\tvideoNode.click();\n\t}\n};\n","/**\n * Helper functions for dealing with strings.\n */\n\nimport dashify from 'dashify';\n\n/**\n * Convert a string to camelCase.\n *\n * @param {string} input String to change case of.\n * @return {string} The converted outputString.\n */\nexport const toCamelCase = ( input ) => {\n\tif ( typeof input === 'string' && input.length ) {\n\t\treturn toKebabCase( input )\n\t\t\t.split( '-' )\n\t\t\t.map( ( part, index ) =>\n\t\t\t\tindex === 0 ? part.toLowerCase() : toTitleCase( part, { forceLower: true } )\n\t\t\t)\n\t\t\t.join( '' );\n\t}\n\n\treturn input;\n};\n\n/**\n * Convert a string to kebab-case.\n *\n * @param {string} input String to change case of.\n * @return {string} The converted output-string.\n */\nexport const toKebabCase = ( input ) => {\n\tif ( typeof input === 'string' && input.length ) {\n\t\treturn dashify( input, { condense: true } );\n\t}\n\n\treturn input;\n};\n\n/**\n * Convert a string to PascalCase.\n *\n * @param {string} input String to change case of.\n * @return {string} The converted OutputString.\n */\nexport const toPascalCase = ( input ) => {\n\tif ( typeof input === 'string' && input.length ) {\n\t\treturn toKebabCase( input )\n\t\t\t.split( '-' )\n\t\t\t.map( ( part ) => toTitleCase( part, { forceLower: true } ) )\n\t\t\t.join( '' );\n\t}\n\n\treturn input;\n};\n\n/**\n * Convert a string to snake_case.\n *\n * @param {string} input String to change case of.\n * @return {string} The converted output_string.\n */\nexport const toSnakeCase = ( input ) => {\n\tif ( typeof input === 'string' && input.length ) {\n\t\treturn toKebabCase( input ).split( '-' ).join( '_' );\n\t}\n\n\treturn input;\n};\n\n/**\n * Convert a string to Title Case.\n *\n * Options:\n *   - exceptions {RegExp}  Words to skip in case conversion.\n *   - forceLower {boolean} Convert the remaining characters to lowercase.\n *\n * @param {string} input String to change case of.\n * @param {Object} [options={}] Optional config settings.\n * @return {string} The converted Output String.\n */\nexport const toTitleCase = ( input, options = {} ) => {\n\tif ( typeof input === 'string' && input.length ) {\n\t\treturn input\n\t\t\t.split( ' ' )\n\t\t\t.map( ( part ) => {\n\t\t\t\tif ( options.exceptions instanceof RegExp && options.exceptions.test( part ) ) {\n\t\t\t\t\treturn part.toLowerCase();\n\t\t\t\t}\n\t\t\t\tconst firstChar = part.charAt( 0 ).toUpperCase();\n\t\t\t\tconst otherChars = options.forceLower\n\t\t\t\t\t? part.slice( 1 ).toLowerCase()\n\t\t\t\t\t: part.slice( 1 );\n\n\t\t\t\treturn `${ firstChar }${ otherChars }`;\n\t\t\t} )\n\t\t\t.join( ' ' );\n\t}\n\n\treturn input;\n};\n\n/**\n * Convert a string to a variety of different cases/formats.\n *\n * @param {string} input A string to change case/reformat.\n * @param {string} format The output format.\n * @param {Object} [options={}] Optional options for specific formats.\n */\nexport const convertCase = ( input, format, options = {} ) => {\n\tif ( ! input || input.length === 0 ) {\n\t\treturn input;\n\t}\n\n\tswitch ( format ) {\n\t\tcase 'camel':\n\t\t\treturn toCamelCase( input );\n\t\tcase 'kebab':\n\t\t\treturn toKebabCase( input );\n\t\tcase 'lower':\n\t\t\treturn input.toLowerCase();\n\t\tcase 'pascal':\n\t\t\treturn toPascalCase( input );\n\t\tcase 'snake':\n\t\t\treturn toSnakeCase( input );\n\t\tcase 'title':\n\t\t\treturn toTitleCase( input, options );\n\t\tcase 'upper':\n\t\t\treturn input.toUpperCase();\n\t\tdefault:\n\t\t\treturn input;\n\t}\n};\n\n/**\n * Trim string from passed character.\n *\n * @param {string} string A string to trim char from.\n * @param {string} char A character to trim.\n * @return {string} Trimmed string.\n */\nexport const trimChar = ( string, char = ' ' ) => {\n\tif ( typeof string !== 'string' && typeof char !== 'string' && char.length !== 1 ) {\n\t\treturn string;\n\t}\n\n\tlet start = 0;\n\tlet end = string.length;\n\n\twhile ( start < end && string[ start ] === char ) {\n\t\t++start;\n\t}\n\n\twhile ( end > start && string[ end - 1 ] === char ) {\n\t\t--end;\n\t}\n\n\treturn start > 0 || end < string.length ? string.substring( start, end ) : string;\n};\n","/**\n * Utility helpers.\n */\n\nimport smoothscroll from 'smoothscroll-polyfill';\nimport { readCookie, createCookieIfMissing } from 'scripts/modules/_cookies';\nimport { getDataAttr } from 'scripts/helpers/_attributes';\nimport { getSuggestedCountryCode } from 'scripts/modules/_i18n';\nimport { addEventListeners } from 'scripts/helpers/_events';\nimport * as defaultUe from '../../../site-options/04-languages.json';\n\n/**\n * Check if user is logged in as existing NFB client.\n *\n * @return {string} smux_login cookie value\n */\nexport const isNfbCustomer = () => {\n\treturn readCookie( 'smux_login' );\n};\n\n/**\n * Adds a polyfill if needed for scroll-behaviour: smooth and anchor scrolling.\n *\n * @param {number} additionalOffset Additional offset.\n */\nexport const initSmoothScroll = ( additionalOffset = 0 ) => {\n\t// Polyfill is mostly needed for all versions of Safari.\n\tsmoothscroll.polyfill();\n\n\tconst scrollAnchors = document.querySelectorAll(\n\t\t'a[href^=\"#\"]:not( [href=\"#\"] ),[data-scroll-target]'\n\t);\n\n\tif ( scrollAnchors ) {\n\t\tscrollAnchors.forEach( ( anchor ) => {\n\t\t\tanchor.addEventListener(\n\t\t\t\t'click',\n\t\t\t\t( e ) => {\n\t\t\t\t\tconst selector = getDataAttr( anchor, 'scroll-target' ) || anchor.hash;\n\t\t\t\t\tif ( isValidSelector( selector ) ) {\n\t\t\t\t\t\tconst target = document.querySelector( selector );\n\t\t\t\t\t\tconst header = document.querySelector( 'header' );\n\t\t\t\t\t\tif ( target?.getBoundingClientRect ) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tlet offset = 0;\n\t\t\t\t\t\t\tif ( header?.getBoundingClientRect ) {\n\t\t\t\t\t\t\t\toffset = parseInt( header.getBoundingClientRect().height );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twindow.scrollTo( {\n\t\t\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\t\t\tparseInt( target.getBoundingClientRect().top ) +\n\t\t\t\t\t\t\t\t\tparseInt( window.scrollY ) -\n\t\t\t\t\t\t\t\t\toffset -\n\t\t\t\t\t\t\t\t\tadditionalOffset,\n\t\t\t\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\t\t} );\n\t}\n};\n\n/**\n * Remove href attributes from tel: protocol links on desktop (except inside the header).\n */\nexport const cleanupTelLinks = () => {\n\tif (\n\t\t! (\n\t\t\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n\t\t\t\twindow.navigator.userAgent\n\t\t\t) && window.matchMedia( 'only screen and (max-width: 853px)' ).matches\n\t\t)\n\t) {\n\t\tconst telLinks = document.querySelectorAll( '[href^=\"tel:\"]' );\n\n\t\tif ( telLinks ) {\n\t\t\ttelLinks.forEach( ( el ) => {\n\t\t\t\tif (\n\t\t\t\t\t! el.closest( '.header' ) &&\n\t\t\t\t\t! el.closest( '.integrations__sidebar-contact-info' ) &&\n\t\t\t\t\t! el.closest( '.pricing-modal' )\n\t\t\t\t) {\n\t\t\t\t\tel.removeAttribute( 'href' );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n};\n\n/**\n * Get domain portion from FQDN.\n *\n * @param {string} fqdn\n */\nexport const getDomainFromFQDN = ( fqdn ) => {\n\tif ( ! fqdn ) {\n\t\treturn '';\n\t}\n\n\tconst domainParts = fqdn.split( '.' );\n\treturn domainParts.slice( domainParts.length - 2 ).join( '.' );\n};\n\n/**\n * Check if a provided url is for the same parent domain (e.g., my.freshbooks.com and www.freshbooks.com).\n *\n * @param {string} url\n */\nexport const isSameDomain = ( url ) => {\n\tif ( ! url ) {\n\t\treturn false;\n\t}\n\n\tconst { host } = parseUrl( url );\n\n\treturn host && getDomainFromFQDN( host ) === getDomainFromFQDN( window.location.host );\n};\n\n/**\n * Open external links in a new tab/window and remove the nofollow tag if present.\n */\nexport const externalLinksPatcher = () => {\n\tArray.from( document.querySelectorAll( 'a' ) )\n\t\t.filter( ( a ) => {\n\t\t\treturn (\n\t\t\t\ta.href &&\n\t\t\t\t! /^(?:tel:|mailto:|javascript:|https?:\\/\\/(?:[^.]*\\.)?(?:freshbooks\\.com|[^.]*\\.freshenv\\.com))/.test(\n\t\t\t\t\ta.href\n\t\t\t\t) &&\n\t\t\t\ta.host &&\n\t\t\t\tgetDomainFromFQDN( a.host ) !== getDomainFromFQDN( window.location.host )\n\t\t\t);\n\t\t} )\n\t\t.forEach( ( link ) => {\n\t\t\tlink.setAttribute( 'target', '_blank' );\n\t\t\tlink.rel = link.rel.replace( / *nofollow */, '' );\n\t\t} );\n};\n\n/**\n * Add/remove a class (stuck) to an element with class sticky-top on event at which element sticks.\n * Refer to https://developers.google.com/web/updates/2017/09/sticky-headers.\n */\nexport const addStickyTopObserver = () => {\n\tconst stickyTopEls = document.querySelectorAll( '.sticky-top' );\n\tif ( stickyTopEls.length ) {\n\t\tstickyTopEls.forEach( ( element ) => {\n\t\t\tconst computedStyles = window.getComputedStyle( element );\n\t\t\tconst sentinel = document.createElement( 'span' );\n\t\t\tsentinel.classList.add( 'sentinel' );\n\t\t\tsentinel.style = `\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: -${ computedStyles.top || '0' };\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tz-index: -1;\n\t\t\t`;\n\t\t\telement.parentElement.insertBefore( sentinel, element );\n\t\t\tnew window.IntersectionObserver( function ( entries ) {\n\t\t\t\tentries.forEach( ( entry ) => {\n\t\t\t\t\tif ( entry.intersectionRatio === 0 ) {\n\t\t\t\t\t\tentry.target.nextElementSibling.classList.add( 'stuck' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tentry.target.nextElementSibling.classList.remove( 'stuck' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} ).observe( sentinel );\n\t\t} );\n\t}\n};\n\n/**\n * Add/remove a class (stuck) to an element with class sticky-bottom by tracking the position of\n * sentinel inserted before sticky element.\n */\nexport const addStickyBottomObserver = () => {\n\tconst stickyBottomEls = document.querySelectorAll( '.sticky-bottom' );\n\tif ( stickyBottomEls ) {\n\t\tstickyBottomEls.forEach( ( element ) => {\n\t\t\t// Sentinel.\n\t\t\tconst sentinel = document.createElement( 'span' );\n\t\t\tsentinel.classList.add( 'sentinel' );\n\t\t\telement.parentElement.insertBefore( sentinel, element );\n\n\t\t\tconst addRemoveStuckClass = () => {\n\t\t\t\tif ( ! element.classList.contains( 'sticky-bottom' ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst isBefore =\n\t\t\t\t\twindow.pageYOffset + window.innerHeight <\n\t\t\t\t\tsentinel.offsetTop + element.clientHeight;\n\t\t\t\tif ( ! isBefore && element.classList.contains( 'stuck' ) ) {\n\t\t\t\t\telement.classList.remove( 'stuck' );\n\t\t\t\t} else if ( isBefore && ! element.classList.contains( 'stuck' ) ) {\n\t\t\t\t\telement.classList.add( 'stuck' );\n\t\t\t\t}\n\t\t\t};\n\t\t\t// Scrolling past the sentinel position plus height of the sticky element.\n\t\t\taddEventListeners( window, 'load scroll', addRemoveStuckClass );\n\t\t} );\n\t}\n};\n\n/**\n * Test a CSS selector to check it won't throw client-side exceptions.\n *\n * @param {string} selector CSS selector to test for validity.\n */\nexport const isValidSelector = ( selector ) => {\n\ttry {\n\t\tdocument.createDocumentFragment().querySelector( selector );\n\t} catch {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\n/**\n * Find all signup and pricing links and replace their urls based on user's location.\n */\nexport const replaceRegionalisedUrls = () => {\n\tconst euDefaultFor = defaultUe.eu_default_for;\n\tconst euDefaultCountryCode = 'eu';\n\tconst countryCodeCookie = readCookie( 'user-country-code' ).toLowerCase();\n\n\tif ( window.fbVars && window.fbVars.i18n ) {\n\t\tconst { supportedRegions, siteLangCode } = window.fbVars.i18n;\n\t\tlet countryCode = getSuggestedCountryCode( 'lower' );\n\n\t\tif ( euDefaultFor.includes( `en-${ countryCodeCookie }` ) ) {\n\t\t\tcountryCode = euDefaultCountryCode;\n\t\t}\n\n\t\tif (\n\t\t\tsupportedRegions &&\n\t\t\tsupportedRegions[ countryCode ] &&\n\t\t\tObject.keys( supportedRegions[ countryCode ] ).length > 0\n\t\t) {\n\t\t\tconst targetRegion = supportedRegions[ countryCode ][ siteLangCode ]\n\t\t\t\t? supportedRegions[ countryCode ][ siteLangCode ]\n\t\t\t\t: supportedRegions[ countryCode ][\n\t\t\t\t\t\tObject.keys( supportedRegions[ countryCode ] )[ 0 ]\n\t\t\t\t  ];\n\n\t\t\tconst targetSignupLink =\n\t\t\t\ttargetRegion && targetRegion.sitePaths && targetRegion.sitePaths.signup;\n\t\t\tconst targetPricingLink =\n\t\t\t\ttargetRegion && targetRegion.sitePaths && targetRegion.sitePaths.pricing;\n\n\t\t\tif ( targetSignupLink ) {\n\t\t\t\tconst signupLinks = document.querySelectorAll(\n\t\t\t\t\t'[href*=\"/signup\"]:not([href*=\"my.\"]):not([href*=\"direct-buy\"])'\n\t\t\t\t);\n\n\t\t\t\tsignupLinks.forEach( ( link ) => {\n\t\t\t\t\tif ( link.pathname !== targetRegion.sitePaths.signup ) {\n\t\t\t\t\t\tlink.pathname = targetRegion.sitePaths.signup;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( targetPricingLink ) {\n\t\t\t\tconst pricingLinks = document.querySelectorAll(\n\t\t\t\t\t'[href*=\"/pricing\"]:not([class*=\"region\"])'\n\t\t\t\t);\n\n\t\t\t\tpricingLinks.forEach( ( link ) => {\n\t\t\t\t\tif ( link.pathname !== targetRegion.sitePaths.pricing ) {\n\t\t\t\t\t\tlink.pathname = targetRegion.sitePaths.pricing;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Parse a URL into parts.\n *\n * @param  {string} input URL to parse\n * @return {Object} Parsed URL parts\n */\nexport const parseUrl = ( input = '' ) => {\n\tconst output = {\n\t\turl: '',\n\t\tquery: '',\n\t\thash: '',\n\t\torigin: '',\n\t\tprotocol: '',\n\t\thost: '',\n\t\tpathname: '',\n\t};\n\n\tif ( typeof input === 'string' && input ) {\n\t\t[ output.url, output.hash ] = input.split( '#', 2 );\n\t\t[ output.url, output.query ] = output.url.split( '?', 2 );\n\n\t\tconst urlParts = /^(https?:)?(\\/\\/[^/]+)?(\\/.*)?$/.exec( output.url );\n\t\tif ( urlParts && urlParts.length === 4 ) {\n\t\t\t[ , output.protocol, output.host, output.pathname ] = urlParts;\n\n\t\t\tif ( output.host ) {\n\t\t\t\toutput.host = output.host.replace( '//', '' );\n\n\t\t\t\tif ( ! output.protocol ) {\n\t\t\t\t\toutput.protocol = window.location.protocol;\n\t\t\t\t\toutput.url = `${ output.protocol }${ output.url }`;\n\t\t\t\t}\n\n\t\t\t\toutput.origin = `${ output.protocol }//${ output.host }`;\n\t\t\t}\n\t\t}\n\n\t\tObject.keys( output ).forEach( ( key ) => {\n\t\t\tif ( typeof output[ key ] === 'undefined' ) {\n\t\t\t\toutput[ key ] = '';\n\t\t\t}\n\t\t} );\n\t}\n\n\treturn output;\n};\n\n/**\n * Parse a query string into parameters.\n *\n * @param {string}  input         Query string or URL\n * @param {boolean} [decode=true] Should the parameter values be URI decoded?\n * @return {Object} Parsed query string parameters\n */\nexport const parseQueryString = ( input, decode = true ) => {\n\tconst output = {};\n\n\tif ( typeof input === 'string' && input ) {\n\t\tconst params = parseUrl( input ).query.split( '&' );\n\n\t\tif ( params && params.length ) {\n\t\t\tparams.forEach( ( param ) => {\n\t\t\t\tconst parts = param\n\t\t\t\t\t.split( '=', 2 )\n\t\t\t\t\t.map( ( p ) => ( decode ? decodeURIComponent( p ) : p ) );\n\n\t\t\t\tif ( parts.length === 2 ) {\n\t\t\t\t\toutput[ parts[ 0 ] ] = parts[ 1 ];\n\t\t\t\t} else {\n\t\t\t\t\toutput[ parts[ 0 ] ] = '';\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n\n\treturn output;\n};\n\n/**\n * Set Trial Length cookie.\n */\nexport const setTrialLengthCookie = () => {\n\tconst trialLength = document.body.dataset.tl;\n\n\tif ( trialLength ) {\n\t\tcreateCookieIfMissing( 'fb_web_promo', `lp${ trialLength }` );\n\t}\n};\n\n/**\n * Init links that open modals.\n */\nexport const initOpenModalLinks = () => {\n\tconst buttonsWithModals = document.querySelectorAll( 'a[target=\"modal\"]' );\n\n\tif ( buttonsWithModals.length > 0 ) {\n\t\tbuttonsWithModals.forEach( ( buttonWithModal ) => {\n\t\t\tbuttonWithModal.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t$( buttonWithModal.getAttribute( 'href' ) ).modal( 'show' );\n\t\t\t} );\n\t\t} );\n\t}\n};\n"],"sourceRoot":""}