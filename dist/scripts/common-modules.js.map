{"version":3,"sources":["webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/es.array.iterator.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/es.promise.finally.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/es.regexp.exec.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/es.string.iterator.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/es.string.replace.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/web.url-search-params.js","webpack:////Users/xue.ding/freshpress-website/node_modules/core-js/modules/web.url.js","webpack:////Users/xue.ding/freshpress-website/node_modules/swiper/esm/modules/observer/observer.js","webpack:////Users/xue.ding/freshpress-website/node_modules/swiper/esm/modules/resize/resize.js","webpack:///./scripts/modules/_animations.js","webpack:///./scripts/modules/_cookies.js","webpack:///./scripts/modules/_forms.js","webpack:///./scripts/modules/_i18n.js","webpack:///./scripts/modules/_signup.js","webpack:///./scripts/modules/_tracking.js","webpack:///./scripts/modules/_validation.js"],"names":["mainAnimateClass","offScreenResetClass","animationNameRegex","initAnimations","intersectingOptions","root","rootMargin","setTimeout","animationCallback","entries","forEach","entry","animationClass","target","className","match","Array","isArray","animationOnHoverClass","classList","contains","animationTriggerClass","isIntersecting","add","currentStyle","getAttribute","setAttribute","remove","wrapMultipleAnimations","animationObserver","IntersectionObserver","document","querySelectorAll","animationNode","observe","foundAnimations","uniqueFoundAnimations","Set","length","i","multipleAnimationWrapper","createElement","innerHTML","outerHTML","parentNode","replaceChild","animate","node","animationName","initCookieDefaults","options","path","Cookies","defaults","domain","getDomainFromFQDN","window","location","host","createCookie","name","value","days","expires","set","readCookie","get","eraseCookie","createCookieIfMissing","acceptCookiePolicy","declineCookiePolicy","redirect","search","isCookiePolicyAccepted","isCookiePolicyDeclined","initCookieModal","modalCookies","querySelector","cookieName","legacyCookieName","buttonAccept","buttonDecline","addEventListener","e","preventDefault","$","modal","initCookiesModalListener","openCookiesModalTriggers","openCookieModalItem","initForms","forms","getAllForms","form","event","stopPropagation","fields","validateAllFields","formValid","filter","field","isValid","handler","getDataAttr","handleSignup","call","firstError","focus","getAllFormFields","tagName","validateField","filterInputFields","excludes","attr","from","el","includes","parent","HTMLFormElement","elements","getFieldType","fieldType","toLowerCase","type","getFieldValue","multiple","selectedIndex","optArray","selectedOptions","opt","selected","map","checked","setFieldValue","undefined","maxLength","slice","getValidationRules","validationRules","dataset","validation","split","push","hasAttrOrData","rule","toCamelCase","validity","fieldVal","tooltip","validationOptions","allowZero","hasDataAttr","allowSpaces","setCustomValidity","validationMessage","_validation","valid","notRule","startsWith","replace","stringFieldVal","toString","trim","minLength","getAttrOrData","Number","MAX_SAFE_INTEGER","i18nVars","fbVars","i18n","getSiteCountryCode","format","countryCode","siteCountryCode","toUpperCase","getBillingCountryCode","getLanguage","siteLangCode","getUserCountryCode","getSiteCountryCodes","supportedRegions","siteCountryCodes","Object","keys","getSuggestedCountryCode","indexOf","getUserCountryName","getUserCurrencyCode","countryCodeCookie","countryToCurrency","getUserRegionCode","setUserCountryCode","setUserCountryName","countryName","toTitleCase","exceptions","getAppCountryList","countryList","common","short","code","getAppCountryCodes","getAppCountryNames","setRegionCookies","fastlyValueCode","fastlyValueName","signupCookiesAccepted","action","referralId","referralCookie","decodeURIComponent","formData","id","email","password","landing_url","provisioner","send_confirmation_notification","visitor_id","getVisitorId","access_token","capacity","billing_country_code","country","currencyCode","language","optimizely_buckets","optimizely_user_id","referralid","referring_url","web_promo","skip_business","skip_system","fetch","method","headers","body","JSON","stringify","then","response","json","registerResponse","signupRedirect","fbDomains","auth","encodeURIComponent","api","Authorization","apiResponse","trackEvent","account_id","track","accountid","classic_or_nfb","error_description","emailField","emailTooltip","errorMessage","error","handleSsoSignup","provider","authEndpoint","signupButtons","tosCheckbox","signupButton","href","$modalCookies","getTracker","tracker","providerKey","dataLayer","optimizely","data","fn","eventName","isProviderActive","test","active","visitorId","uuidv4","setGlobalDataLayer","customerType","user_role","plan_name","identity_id","business_id","visitor_country","visitor_language","addLinkTracking","trackableEntities","entity","closest","ctaContainer","blockClassList","ctaSection","addEventListeners","button","ctaText","innerText","setCoreCookies","expiry","landingTime","Date","toISOString","pathname","referrer","setParamCookies","params","cookies","ref","fb_referral_id","cookie_referral","cookie_referral_type","reftype","cookie_referral_params","referral_present","existingCookieReferral","initial_cookie_referral","fb_source","cookie_referral_source","ref_systemid","cookie_referral_systemid","c1","source","kw","existingCookieC1","existingCookieSource","existingCookieKw","existingCookieTime","initial_cookie_c1","initial_cookie_source","initial_cookie_kw","initial_cookie_time","cookie_c1","cookie_source","cookie_kw","cookie_time","Math","floor","now","initAttributionTracking","getTime","parseQueryString","existingLandingUrl","existingLandingParams","noNewRef","preserveRef","isSameDomain","regex","alpha","alphaNumeric","phoneNumber","isEmpty","dataType","isPlainObject","isAlpha","string","isAlphanumeric","isNumber","isNumeric","isPostalCode","locale","_isPostalCode","isURL","url","_isURL","isEmail","_isEmail","isPhone","phone","isInRange","number","min","max","arg","matchesPatterns","patterns","pattern"],"mappings":";;;;;;;;;;AAAa;AACb,sBAAsB,mBAAO,CAAC,oGAAgC;AAC9D,uBAAuB,mBAAO,CAAC,sGAAiC;AAChE,gBAAgB,mBAAO,CAAC,oFAAwB;AAChD,0BAA0B,mBAAO,CAAC,8FAA6B;AAC/D,qBAAqB,mBAAO,CAAC,gGAA8B;;AAE3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,8BAA8B;AAC9B,gCAAgC;AAChC,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACpDa;AACb,QAAQ,mBAAO,CAAC,8EAAqB;AACrC,cAAc,mBAAO,CAAC,gFAAsB;AAC5C,oBAAoB,mBAAO,CAAC,sHAAyC;AACrE,YAAY,mBAAO,CAAC,4EAAoB;AACxC,iBAAiB,mBAAO,CAAC,0FAA2B;AACpD,yBAAyB,mBAAO,CAAC,wGAAkC;AACnE,qBAAqB,mBAAO,CAAC,gGAA8B;AAC3D,eAAe,mBAAO,CAAC,kFAAuB;;AAE9C;AACA;AACA,2CAA2C,oBAAoB,cAAc,EAAE,eAAe,cAAc;AAC5G,CAAC;;AAED;AACA;AACA,GAAG,kEAAkE;AACrE;AACA;AACA;AACA;AACA;AACA,gEAAgE,UAAU,EAAE;AAC5E,OAAO;AACP;AACA,gEAAgE,SAAS,EAAE;AAC3E,OAAO;AACP;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;;;;;;;;;;;;ACnCa;AACb,QAAQ,mBAAO,CAAC,8EAAqB;AACrC,WAAW,mBAAO,CAAC,wFAA0B;;AAE7C;AACA;AACA,GAAG,2DAA2D;AAC9D;AACA,CAAC;;;;;;;;;;;;;ACRY;AACb,aAAa,mBAAO,CAAC,kGAA+B;AACpD,0BAA0B,mBAAO,CAAC,8FAA6B;AAC/D,qBAAqB,mBAAO,CAAC,gGAA8B;;AAE3D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;;;;;;;AC5BY;AACb,oCAAoC,mBAAO,CAAC,sIAAiD;AAC7F,eAAe,mBAAO,CAAC,oFAAwB;AAC/C,eAAe,mBAAO,CAAC,oFAAwB;AAC/C,gBAAgB,mBAAO,CAAC,sFAAyB;AACjD,6BAA6B,mBAAO,CAAC,kHAAuC;AAC5E,yBAAyB,mBAAO,CAAC,0GAAmC;AACpE,sBAAsB,mBAAO,CAAC,kGAA+B;AAC7D,iBAAiB,mBAAO,CAAC,0GAAmC;;AAE5D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,oBAAoB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACjGD,aAAa,mBAAO,CAAC,8EAAqB;AAC1C,mBAAmB,mBAAO,CAAC,4FAA4B;AACvD,2BAA2B,mBAAO,CAAC,gGAA8B;AACjE,kCAAkC,mBAAO,CAAC,8HAA6C;AACvF,sBAAsB,mBAAO,CAAC,oGAAgC;;AAE9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChCa;AACb;AACA,mBAAO,CAAC,gGAA8B;AACtC,QAAQ,mBAAO,CAAC,8EAAqB;AACrC,iBAAiB,mBAAO,CAAC,0FAA2B;AACpD,qBAAqB,mBAAO,CAAC,sFAAyB;AACtD,eAAe,mBAAO,CAAC,kFAAuB;AAC9C,kBAAkB,mBAAO,CAAC,0FAA2B;AACrD,qBAAqB,mBAAO,CAAC,oGAAgC;AAC7D,gCAAgC,mBAAO,CAAC,wHAA0C;AAClF,0BAA0B,mBAAO,CAAC,8FAA6B;AAC/D,iBAAiB,mBAAO,CAAC,wFAA0B;AACnD,aAAa,mBAAO,CAAC,wEAAkB;AACvC,WAAW,mBAAO,CAAC,4GAAoC;AACvD,cAAc,mBAAO,CAAC,gFAAsB;AAC5C,eAAe,mBAAO,CAAC,oFAAwB;AAC/C,eAAe,mBAAO,CAAC,oFAAwB;AAC/C,aAAa,mBAAO,CAAC,4FAA4B;AACjD,+BAA+B,mBAAO,CAAC,sHAAyC;AAChF,kBAAkB,mBAAO,CAAC,0FAA2B;AACrD,wBAAwB,mBAAO,CAAC,wGAAkC;AAClE,sBAAsB,mBAAO,CAAC,oGAAgC;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+EAA+E,EAAE,EAAE,cAAc;AACjG;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kDAAkD;AAC1E;AACA,OAAO,6DAA6D,kCAAkC;AACtG,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oCAAoC;AAC5D;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC,GAAG,mBAAmB;;AAEvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,GAAG,mBAAmB;;AAEvB;;AAEA,GAAG,wCAAwC;AAC3C;AACA,CAAC;;AAED;AACA;AACA;AACA,KAAK,+CAA+C;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Va;AACb;AACA,mBAAO,CAAC,kGAA+B;AACvC,QAAQ,mBAAO,CAAC,8EAAqB;AACrC,kBAAkB,mBAAO,CAAC,wFAA0B;AACpD,qBAAqB,mBAAO,CAAC,sFAAyB;AACtD,aAAa,mBAAO,CAAC,8EAAqB;AAC1C,uBAAuB,mBAAO,CAAC,kHAAuC;AACtE,eAAe,mBAAO,CAAC,kFAAuB;AAC9C,iBAAiB,mBAAO,CAAC,wFAA0B;AACnD,UAAU,mBAAO,CAAC,wEAAkB;AACpC,aAAa,mBAAO,CAAC,4FAA4B;AACjD,gBAAgB,mBAAO,CAAC,sFAAyB;AACjD,aAAa,mBAAO,CAAC,kGAA+B;AACpD,cAAc,mBAAO,CAAC,kHAAuC;AAC7D,qBAAqB,mBAAO,CAAC,oGAAgC;AAC7D,4BAA4B,mBAAO,CAAC,wGAAkC;AACtE,0BAA0B,mBAAO,CAAC,8FAA6B;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,WAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,wCAAwC;AACxC;AACA,CAAC;AACD,oCAAoC;AACpC,oBAAoB,QAAQ;AAC5B,CAAC;AACD,wCAAwC;AACxC,oBAAoB;AACpB,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,CAAC,GAAG,mBAAmB;;AAEvB;AACA;AACA;AACA;AACA,CAAC,GAAG,mBAAmB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA,GAAG,4DAA4D;AAC/D;AACA,CAAC;;;;;;;;;;;;;AC5+BD;AAAA;AAAA;AAAA,qBAAqB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG,wCAAwC;;AAEpR;AACe;AACtD;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,4DAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,6BAA6B;AAClD;AACA;AACA,KAAK;;;AAGL;AACA;AACA,KAAK,EAAE;;AAEP;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACe;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI,sEAAiB;AACrB,2BAA2B;AAC3B;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;;AC3FD;AAAA;AAAA;AAAuC;AACI;;AAE3C;AACA,eAAe,4DAAS;AACxB;AACA;;AAEe;AACf;AACA;AACA;AACA,IAAI,2DAAM;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,mBAAmB,4DAAS;;AAE5B;AACA;AACA;AACA,OAAO;;;AAGP,qEAAqE;;AAErE;AACA,KAAK;AACL;AACA,mBAAmB,4DAAS;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;;;;;;;;AC5ED,MAAMA,gBAAgB,GAAG,YAAzB;AACA,MAAMC,mBAAmB,GAAG,6BAA5B;AACA,MAAMC,kBAAkB,GAAG,wBAA3B;AAEO,MAAMC,cAAc,GAAG,MAAM;AACnC,QAAMC,mBAAmB,GAAG;AAC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","file":"scripts/common-modules.js","sourcesContent":["'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.append` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.string.iterator');\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar global = require('../internals/global');\nvar defineProperties = require('../internals/object-define-properties');\nvar redefine = require('../internals/redefine');\nvar anInstance = require('../internals/an-instance');\nvar has = require('../internals/has');\nvar assign = require('../internals/object-assign');\nvar arrayFrom = require('../internals/array-from');\nvar codeAt = require('../internals/string-multibyte').codeAt;\nvar toASCII = require('../internals/string-punycode-to-ascii');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar URLSearchParamsModule = require('../modules/web.url-search-params');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar NativeURL = global.URL;\nvar URLSearchParams = URLSearchParamsModule.URLSearchParams;\nvar getInternalSearchParamsState = URLSearchParamsModule.getState;\nvar setInternalState = InternalStateModule.set;\nvar getInternalURLState = InternalStateModule.getterFor('URL');\nvar floor = Math.floor;\nvar pow = Math.pow;\n\nvar INVALID_AUTHORITY = 'Invalid authority';\nvar INVALID_SCHEME = 'Invalid scheme';\nvar INVALID_HOST = 'Invalid host';\nvar INVALID_PORT = 'Invalid port';\n\nvar ALPHA = /[A-Za-z]/;\nvar ALPHANUMERIC = /[\\d+-.A-Za-z]/;\nvar DIGIT = /\\d/;\nvar HEX_START = /^(0x|0X)/;\nvar OCT = /^[0-7]+$/;\nvar DEC = /^\\d+$/;\nvar HEX = /^[\\dA-Fa-f]+$/;\n/* eslint-disable no-control-regex -- safe */\nvar FORBIDDEN_HOST_CODE_POINT = /[\\u0000\\t\\u000A\\u000D #%/:?@[\\\\]]/;\nvar FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\\u0000\\t\\u000A\\u000D #/:?@[\\\\]]/;\nvar LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\\u0000-\\u001F ]+|[\\u0000-\\u001F ]+$/g;\nvar TAB_AND_NEW_LINE = /[\\t\\u000A\\u000D]/g;\n/* eslint-enable no-control-regex -- safe */\nvar EOF;\n\nvar parseHost = function (url, input) {\n  var result, codePoints, index;\n  if (input.charAt(0) == '[') {\n    if (input.charAt(input.length - 1) != ']') return INVALID_HOST;\n    result = parseIPv6(input.slice(1, -1));\n    if (!result) return INVALID_HOST;\n    url.host = result;\n  // opaque host\n  } else if (!isSpecial(url)) {\n    if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input)) return INVALID_HOST;\n    result = '';\n    codePoints = arrayFrom(input);\n    for (index = 0; index < codePoints.length; index++) {\n      result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);\n    }\n    url.host = result;\n  } else {\n    input = toASCII(input);\n    if (FORBIDDEN_HOST_CODE_POINT.test(input)) return INVALID_HOST;\n    result = parseIPv4(input);\n    if (result === null) return INVALID_HOST;\n    url.host = result;\n  }\n};\n\nvar parseIPv4 = function (input) {\n  var parts = input.split('.');\n  var partsLength, numbers, index, part, radix, number, ipv4;\n  if (parts.length && parts[parts.length - 1] == '') {\n    parts.pop();\n  }\n  partsLength = parts.length;\n  if (partsLength > 4) return input;\n  numbers = [];\n  for (index = 0; index < partsLength; index++) {\n    part = parts[index];\n    if (part == '') return input;\n    radix = 10;\n    if (part.length > 1 && part.charAt(0) == '0') {\n      radix = HEX_START.test(part) ? 16 : 8;\n      part = part.slice(radix == 8 ? 1 : 2);\n    }\n    if (part === '') {\n      number = 0;\n    } else {\n      if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part)) return input;\n      number = parseInt(part, radix);\n    }\n    numbers.push(number);\n  }\n  for (index = 0; index < partsLength; index++) {\n    number = numbers[index];\n    if (index == partsLength - 1) {\n      if (number >= pow(256, 5 - partsLength)) return null;\n    } else if (number > 255) return null;\n  }\n  ipv4 = numbers.pop();\n  for (index = 0; index < numbers.length; index++) {\n    ipv4 += numbers[index] * pow(256, 3 - index);\n  }\n  return ipv4;\n};\n\n// eslint-disable-next-line max-statements -- TODO\nvar parseIPv6 = function (input) {\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\n  var pieceIndex = 0;\n  var compress = null;\n  var pointer = 0;\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\n\n  var char = function () {\n    return input.charAt(pointer);\n  };\n\n  if (char() == ':') {\n    if (input.charAt(1) != ':') return;\n    pointer += 2;\n    pieceIndex++;\n    compress = pieceIndex;\n  }\n  while (char()) {\n    if (pieceIndex == 8) return;\n    if (char() == ':') {\n      if (compress !== null) return;\n      pointer++;\n      pieceIndex++;\n      compress = pieceIndex;\n      continue;\n    }\n    value = length = 0;\n    while (length < 4 && HEX.test(char())) {\n      value = value * 16 + parseInt(char(), 16);\n      pointer++;\n      length++;\n    }\n    if (char() == '.') {\n      if (length == 0) return;\n      pointer -= length;\n      if (pieceIndex > 6) return;\n      numbersSeen = 0;\n      while (char()) {\n        ipv4Piece = null;\n        if (numbersSeen > 0) {\n          if (char() == '.' && numbersSeen < 4) pointer++;\n          else return;\n        }\n        if (!DIGIT.test(char())) return;\n        while (DIGIT.test(char())) {\n          number = parseInt(char(), 10);\n          if (ipv4Piece === null) ipv4Piece = number;\n          else if (ipv4Piece == 0) return;\n          else ipv4Piece = ipv4Piece * 10 + number;\n          if (ipv4Piece > 255) return;\n          pointer++;\n        }\n        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;\n        numbersSeen++;\n        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;\n      }\n      if (numbersSeen != 4) return;\n      break;\n    } else if (char() == ':') {\n      pointer++;\n      if (!char()) return;\n    } else if (char()) return;\n    address[pieceIndex++] = value;\n  }\n  if (compress !== null) {\n    swaps = pieceIndex - compress;\n    pieceIndex = 7;\n    while (pieceIndex != 0 && swaps > 0) {\n      swap = address[pieceIndex];\n      address[pieceIndex--] = address[compress + swaps - 1];\n      address[compress + --swaps] = swap;\n    }\n  } else if (pieceIndex != 8) return;\n  return address;\n};\n\nvar findLongestZeroSequence = function (ipv6) {\n  var maxIndex = null;\n  var maxLength = 1;\n  var currStart = null;\n  var currLength = 0;\n  var index = 0;\n  for (; index < 8; index++) {\n    if (ipv6[index] !== 0) {\n      if (currLength > maxLength) {\n        maxIndex = currStart;\n        maxLength = currLength;\n      }\n      currStart = null;\n      currLength = 0;\n    } else {\n      if (currStart === null) currStart = index;\n      ++currLength;\n    }\n  }\n  if (currLength > maxLength) {\n    maxIndex = currStart;\n    maxLength = currLength;\n  }\n  return maxIndex;\n};\n\nvar serializeHost = function (host) {\n  var result, index, compress, ignore0;\n  // ipv4\n  if (typeof host == 'number') {\n    result = [];\n    for (index = 0; index < 4; index++) {\n      result.unshift(host % 256);\n      host = floor(host / 256);\n    } return result.join('.');\n  // ipv6\n  } else if (typeof host == 'object') {\n    result = '';\n    compress = findLongestZeroSequence(host);\n    for (index = 0; index < 8; index++) {\n      if (ignore0 && host[index] === 0) continue;\n      if (ignore0) ignore0 = false;\n      if (compress === index) {\n        result += index ? ':' : '::';\n        ignore0 = true;\n      } else {\n        result += host[index].toString(16);\n        if (index < 7) result += ':';\n      }\n    }\n    return '[' + result + ']';\n  } return host;\n};\n\nvar C0ControlPercentEncodeSet = {};\nvar fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {\n  ' ': 1, '\"': 1, '<': 1, '>': 1, '`': 1\n});\nvar pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {\n  '#': 1, '?': 1, '{': 1, '}': 1\n});\nvar userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {\n  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\\\': 1, ']': 1, '^': 1, '|': 1\n});\n\nvar percentEncode = function (char, set) {\n  var code = codeAt(char, 0);\n  return code > 0x20 && code < 0x7F && !has(set, char) ? char : encodeURIComponent(char);\n};\n\nvar specialSchemes = {\n  ftp: 21,\n  file: null,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443\n};\n\nvar isSpecial = function (url) {\n  return has(specialSchemes, url.scheme);\n};\n\nvar includesCredentials = function (url) {\n  return url.username != '' || url.password != '';\n};\n\nvar cannotHaveUsernamePasswordPort = function (url) {\n  return !url.host || url.cannotBeABaseURL || url.scheme == 'file';\n};\n\nvar isWindowsDriveLetter = function (string, normalized) {\n  var second;\n  return string.length == 2 && ALPHA.test(string.charAt(0))\n    && ((second = string.charAt(1)) == ':' || (!normalized && second == '|'));\n};\n\nvar startsWithWindowsDriveLetter = function (string) {\n  var third;\n  return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (\n    string.length == 2 ||\n    ((third = string.charAt(2)) === '/' || third === '\\\\' || third === '?' || third === '#')\n  );\n};\n\nvar shortenURLsPath = function (url) {\n  var path = url.path;\n  var pathSize = path.length;\n  if (pathSize && (url.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {\n    path.pop();\n  }\n};\n\nvar isSingleDot = function (segment) {\n  return segment === '.' || segment.toLowerCase() === '%2e';\n};\n\nvar isDoubleDot = function (segment) {\n  segment = segment.toLowerCase();\n  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';\n};\n\n// States:\nvar SCHEME_START = {};\nvar SCHEME = {};\nvar NO_SCHEME = {};\nvar SPECIAL_RELATIVE_OR_AUTHORITY = {};\nvar PATH_OR_AUTHORITY = {};\nvar RELATIVE = {};\nvar RELATIVE_SLASH = {};\nvar SPECIAL_AUTHORITY_SLASHES = {};\nvar SPECIAL_AUTHORITY_IGNORE_SLASHES = {};\nvar AUTHORITY = {};\nvar HOST = {};\nvar HOSTNAME = {};\nvar PORT = {};\nvar FILE = {};\nvar FILE_SLASH = {};\nvar FILE_HOST = {};\nvar PATH_START = {};\nvar PATH = {};\nvar CANNOT_BE_A_BASE_URL_PATH = {};\nvar QUERY = {};\nvar FRAGMENT = {};\n\n// eslint-disable-next-line max-statements -- TODO\nvar parseURL = function (url, input, stateOverride, base) {\n  var state = stateOverride || SCHEME_START;\n  var pointer = 0;\n  var buffer = '';\n  var seenAt = false;\n  var seenBracket = false;\n  var seenPasswordToken = false;\n  var codePoints, char, bufferCodePoints, failure;\n\n  if (!stateOverride) {\n    url.scheme = '';\n    url.username = '';\n    url.password = '';\n    url.host = null;\n    url.port = null;\n    url.path = [];\n    url.query = null;\n    url.fragment = null;\n    url.cannotBeABaseURL = false;\n    input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, '');\n  }\n\n  input = input.replace(TAB_AND_NEW_LINE, '');\n\n  codePoints = arrayFrom(input);\n\n  while (pointer <= codePoints.length) {\n    char = codePoints[pointer];\n    switch (state) {\n      case SCHEME_START:\n        if (char && ALPHA.test(char)) {\n          buffer += char.toLowerCase();\n          state = SCHEME;\n        } else if (!stateOverride) {\n          state = NO_SCHEME;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case SCHEME:\n        if (char && (ALPHANUMERIC.test(char) || char == '+' || char == '-' || char == '.')) {\n          buffer += char.toLowerCase();\n        } else if (char == ':') {\n          if (stateOverride && (\n            (isSpecial(url) != has(specialSchemes, buffer)) ||\n            (buffer == 'file' && (includesCredentials(url) || url.port !== null)) ||\n            (url.scheme == 'file' && !url.host)\n          )) return;\n          url.scheme = buffer;\n          if (stateOverride) {\n            if (isSpecial(url) && specialSchemes[url.scheme] == url.port) url.port = null;\n            return;\n          }\n          buffer = '';\n          if (url.scheme == 'file') {\n            state = FILE;\n          } else if (isSpecial(url) && base && base.scheme == url.scheme) {\n            state = SPECIAL_RELATIVE_OR_AUTHORITY;\n          } else if (isSpecial(url)) {\n            state = SPECIAL_AUTHORITY_SLASHES;\n          } else if (codePoints[pointer + 1] == '/') {\n            state = PATH_OR_AUTHORITY;\n            pointer++;\n          } else {\n            url.cannotBeABaseURL = true;\n            url.path.push('');\n            state = CANNOT_BE_A_BASE_URL_PATH;\n          }\n        } else if (!stateOverride) {\n          buffer = '';\n          state = NO_SCHEME;\n          pointer = 0;\n          continue;\n        } else return INVALID_SCHEME;\n        break;\n\n      case NO_SCHEME:\n        if (!base || (base.cannotBeABaseURL && char != '#')) return INVALID_SCHEME;\n        if (base.cannotBeABaseURL && char == '#') {\n          url.scheme = base.scheme;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          url.cannotBeABaseURL = true;\n          state = FRAGMENT;\n          break;\n        }\n        state = base.scheme == 'file' ? FILE : RELATIVE;\n        continue;\n\n      case SPECIAL_RELATIVE_OR_AUTHORITY:\n        if (char == '/' && codePoints[pointer + 1] == '/') {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n          pointer++;\n        } else {\n          state = RELATIVE;\n          continue;\n        } break;\n\n      case PATH_OR_AUTHORITY:\n        if (char == '/') {\n          state = AUTHORITY;\n          break;\n        } else {\n          state = PATH;\n          continue;\n        }\n\n      case RELATIVE:\n        url.scheme = base.scheme;\n        if (char == EOF) {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n        } else if (char == '/' || (char == '\\\\' && isSpecial(url))) {\n          state = RELATIVE_SLASH;\n        } else if (char == '?') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.query = base.query;\n          url.fragment = '';\n          state = FRAGMENT;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          url.path = base.path.slice();\n          url.path.pop();\n          state = PATH;\n          continue;\n        } break;\n\n      case RELATIVE_SLASH:\n        if (isSpecial(url) && (char == '/' || char == '\\\\')) {\n          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        } else if (char == '/') {\n          state = AUTHORITY;\n        } else {\n          url.username = base.username;\n          url.password = base.password;\n          url.host = base.host;\n          url.port = base.port;\n          state = PATH;\n          continue;\n        } break;\n\n      case SPECIAL_AUTHORITY_SLASHES:\n        state = SPECIAL_AUTHORITY_IGNORE_SLASHES;\n        if (char != '/' || buffer.charAt(pointer + 1) != '/') continue;\n        pointer++;\n        break;\n\n      case SPECIAL_AUTHORITY_IGNORE_SLASHES:\n        if (char != '/' && char != '\\\\') {\n          state = AUTHORITY;\n          continue;\n        } break;\n\n      case AUTHORITY:\n        if (char == '@') {\n          if (seenAt) buffer = '%40' + buffer;\n          seenAt = true;\n          bufferCodePoints = arrayFrom(buffer);\n          for (var i = 0; i < bufferCodePoints.length; i++) {\n            var codePoint = bufferCodePoints[i];\n            if (codePoint == ':' && !seenPasswordToken) {\n              seenPasswordToken = true;\n              continue;\n            }\n            var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);\n            if (seenPasswordToken) url.password += encodedCodePoints;\n            else url.username += encodedCodePoints;\n          }\n          buffer = '';\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (seenAt && buffer == '') return INVALID_AUTHORITY;\n          pointer -= arrayFrom(buffer).length + 1;\n          buffer = '';\n          state = HOST;\n        } else buffer += char;\n        break;\n\n      case HOST:\n      case HOSTNAME:\n        if (stateOverride && url.scheme == 'file') {\n          state = FILE_HOST;\n          continue;\n        } else if (char == ':' && !seenBracket) {\n          if (buffer == '') return INVALID_HOST;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PORT;\n          if (stateOverride == HOSTNAME) return;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url))\n        ) {\n          if (isSpecial(url) && buffer == '') return INVALID_HOST;\n          if (stateOverride && buffer == '' && (includesCredentials(url) || url.port !== null)) return;\n          failure = parseHost(url, buffer);\n          if (failure) return failure;\n          buffer = '';\n          state = PATH_START;\n          if (stateOverride) return;\n          continue;\n        } else {\n          if (char == '[') seenBracket = true;\n          else if (char == ']') seenBracket = false;\n          buffer += char;\n        } break;\n\n      case PORT:\n        if (DIGIT.test(char)) {\n          buffer += char;\n        } else if (\n          char == EOF || char == '/' || char == '?' || char == '#' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          stateOverride\n        ) {\n          if (buffer != '') {\n            var port = parseInt(buffer, 10);\n            if (port > 0xFFFF) return INVALID_PORT;\n            url.port = (isSpecial(url) && port === specialSchemes[url.scheme]) ? null : port;\n            buffer = '';\n          }\n          if (stateOverride) return;\n          state = PATH_START;\n          continue;\n        } else return INVALID_PORT;\n        break;\n\n      case FILE:\n        url.scheme = 'file';\n        if (char == '/' || char == '\\\\') state = FILE_SLASH;\n        else if (base && base.scheme == 'file') {\n          if (char == EOF) {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n          } else if (char == '?') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.host = base.host;\n            url.path = base.path.slice();\n            url.query = base.query;\n            url.fragment = '';\n            state = FRAGMENT;\n          } else {\n            if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n              url.host = base.host;\n              url.path = base.path.slice();\n              shortenURLsPath(url);\n            }\n            state = PATH;\n            continue;\n          }\n        } else {\n          state = PATH;\n          continue;\n        } break;\n\n      case FILE_SLASH:\n        if (char == '/' || char == '\\\\') {\n          state = FILE_HOST;\n          break;\n        }\n        if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(''))) {\n          if (isWindowsDriveLetter(base.path[0], true)) url.path.push(base.path[0]);\n          else url.host = base.host;\n        }\n        state = PATH;\n        continue;\n\n      case FILE_HOST:\n        if (char == EOF || char == '/' || char == '\\\\' || char == '?' || char == '#') {\n          if (!stateOverride && isWindowsDriveLetter(buffer)) {\n            state = PATH;\n          } else if (buffer == '') {\n            url.host = '';\n            if (stateOverride) return;\n            state = PATH_START;\n          } else {\n            failure = parseHost(url, buffer);\n            if (failure) return failure;\n            if (url.host == 'localhost') url.host = '';\n            if (stateOverride) return;\n            buffer = '';\n            state = PATH_START;\n          } continue;\n        } else buffer += char;\n        break;\n\n      case PATH_START:\n        if (isSpecial(url)) {\n          state = PATH;\n          if (char != '/' && char != '\\\\') continue;\n        } else if (!stateOverride && char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          state = PATH;\n          if (char != '/') continue;\n        } break;\n\n      case PATH:\n        if (\n          char == EOF || char == '/' ||\n          (char == '\\\\' && isSpecial(url)) ||\n          (!stateOverride && (char == '?' || char == '#'))\n        ) {\n          if (isDoubleDot(buffer)) {\n            shortenURLsPath(url);\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else if (isSingleDot(buffer)) {\n            if (char != '/' && !(char == '\\\\' && isSpecial(url))) {\n              url.path.push('');\n            }\n          } else {\n            if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {\n              if (url.host) url.host = '';\n              buffer = buffer.charAt(0) + ':'; // normalize windows drive letter\n            }\n            url.path.push(buffer);\n          }\n          buffer = '';\n          if (url.scheme == 'file' && (char == EOF || char == '?' || char == '#')) {\n            while (url.path.length > 1 && url.path[0] === '') {\n              url.path.shift();\n            }\n          }\n          if (char == '?') {\n            url.query = '';\n            state = QUERY;\n          } else if (char == '#') {\n            url.fragment = '';\n            state = FRAGMENT;\n          }\n        } else {\n          buffer += percentEncode(char, pathPercentEncodeSet);\n        } break;\n\n      case CANNOT_BE_A_BASE_URL_PATH:\n        if (char == '?') {\n          url.query = '';\n          state = QUERY;\n        } else if (char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case QUERY:\n        if (!stateOverride && char == '#') {\n          url.fragment = '';\n          state = FRAGMENT;\n        } else if (char != EOF) {\n          if (char == \"'\" && isSpecial(url)) url.query += '%27';\n          else if (char == '#') url.query += '%23';\n          else url.query += percentEncode(char, C0ControlPercentEncodeSet);\n        } break;\n\n      case FRAGMENT:\n        if (char != EOF) url.fragment += percentEncode(char, fragmentPercentEncodeSet);\n        break;\n    }\n\n    pointer++;\n  }\n};\n\n// `URL` constructor\n// https://url.spec.whatwg.org/#url-class\nvar URLConstructor = function URL(url /* , base */) {\n  var that = anInstance(this, URLConstructor, 'URL');\n  var base = arguments.length > 1 ? arguments[1] : undefined;\n  var urlString = String(url);\n  var state = setInternalState(that, { type: 'URL' });\n  var baseState, failure;\n  if (base !== undefined) {\n    if (base instanceof URLConstructor) baseState = getInternalURLState(base);\n    else {\n      failure = parseURL(baseState = {}, String(base));\n      if (failure) throw TypeError(failure);\n    }\n  }\n  failure = parseURL(state, urlString, null, baseState);\n  if (failure) throw TypeError(failure);\n  var searchParams = state.searchParams = new URLSearchParams();\n  var searchParamsState = getInternalSearchParamsState(searchParams);\n  searchParamsState.updateSearchParams(state.query);\n  searchParamsState.updateURL = function () {\n    state.query = String(searchParams) || null;\n  };\n  if (!DESCRIPTORS) {\n    that.href = serializeURL.call(that);\n    that.origin = getOrigin.call(that);\n    that.protocol = getProtocol.call(that);\n    that.username = getUsername.call(that);\n    that.password = getPassword.call(that);\n    that.host = getHost.call(that);\n    that.hostname = getHostname.call(that);\n    that.port = getPort.call(that);\n    that.pathname = getPathname.call(that);\n    that.search = getSearch.call(that);\n    that.searchParams = getSearchParams.call(that);\n    that.hash = getHash.call(that);\n  }\n};\n\nvar URLPrototype = URLConstructor.prototype;\n\nvar serializeURL = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var username = url.username;\n  var password = url.password;\n  var host = url.host;\n  var port = url.port;\n  var path = url.path;\n  var query = url.query;\n  var fragment = url.fragment;\n  var output = scheme + ':';\n  if (host !== null) {\n    output += '//';\n    if (includesCredentials(url)) {\n      output += username + (password ? ':' + password : '') + '@';\n    }\n    output += serializeHost(host);\n    if (port !== null) output += ':' + port;\n  } else if (scheme == 'file') output += '//';\n  output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n  if (query !== null) output += '?' + query;\n  if (fragment !== null) output += '#' + fragment;\n  return output;\n};\n\nvar getOrigin = function () {\n  var url = getInternalURLState(this);\n  var scheme = url.scheme;\n  var port = url.port;\n  if (scheme == 'blob') try {\n    return new URL(scheme.path[0]).origin;\n  } catch (error) {\n    return 'null';\n  }\n  if (scheme == 'file' || !isSpecial(url)) return 'null';\n  return scheme + '://' + serializeHost(url.host) + (port !== null ? ':' + port : '');\n};\n\nvar getProtocol = function () {\n  return getInternalURLState(this).scheme + ':';\n};\n\nvar getUsername = function () {\n  return getInternalURLState(this).username;\n};\n\nvar getPassword = function () {\n  return getInternalURLState(this).password;\n};\n\nvar getHost = function () {\n  var url = getInternalURLState(this);\n  var host = url.host;\n  var port = url.port;\n  return host === null ? ''\n    : port === null ? serializeHost(host)\n    : serializeHost(host) + ':' + port;\n};\n\nvar getHostname = function () {\n  var host = getInternalURLState(this).host;\n  return host === null ? '' : serializeHost(host);\n};\n\nvar getPort = function () {\n  var port = getInternalURLState(this).port;\n  return port === null ? '' : String(port);\n};\n\nvar getPathname = function () {\n  var url = getInternalURLState(this);\n  var path = url.path;\n  return url.cannotBeABaseURL ? path[0] : path.length ? '/' + path.join('/') : '';\n};\n\nvar getSearch = function () {\n  var query = getInternalURLState(this).query;\n  return query ? '?' + query : '';\n};\n\nvar getSearchParams = function () {\n  return getInternalURLState(this).searchParams;\n};\n\nvar getHash = function () {\n  var fragment = getInternalURLState(this).fragment;\n  return fragment ? '#' + fragment : '';\n};\n\nvar accessorDescriptor = function (getter, setter) {\n  return { get: getter, set: setter, configurable: true, enumerable: true };\n};\n\nif (DESCRIPTORS) {\n  defineProperties(URLPrototype, {\n    // `URL.prototype.href` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-href\n    href: accessorDescriptor(serializeURL, function (href) {\n      var url = getInternalURLState(this);\n      var urlString = String(href);\n      var failure = parseURL(url, urlString);\n      if (failure) throw TypeError(failure);\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.origin` getter\n    // https://url.spec.whatwg.org/#dom-url-origin\n    origin: accessorDescriptor(getOrigin),\n    // `URL.prototype.protocol` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-protocol\n    protocol: accessorDescriptor(getProtocol, function (protocol) {\n      var url = getInternalURLState(this);\n      parseURL(url, String(protocol) + ':', SCHEME_START);\n    }),\n    // `URL.prototype.username` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-username\n    username: accessorDescriptor(getUsername, function (username) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(username));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.username = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.password` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-password\n    password: accessorDescriptor(getPassword, function (password) {\n      var url = getInternalURLState(this);\n      var codePoints = arrayFrom(String(password));\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      url.password = '';\n      for (var i = 0; i < codePoints.length; i++) {\n        url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);\n      }\n    }),\n    // `URL.prototype.host` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-host\n    host: accessorDescriptor(getHost, function (host) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(host), HOST);\n    }),\n    // `URL.prototype.hostname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hostname\n    hostname: accessorDescriptor(getHostname, function (hostname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      parseURL(url, String(hostname), HOSTNAME);\n    }),\n    // `URL.prototype.port` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-port\n    port: accessorDescriptor(getPort, function (port) {\n      var url = getInternalURLState(this);\n      if (cannotHaveUsernamePasswordPort(url)) return;\n      port = String(port);\n      if (port == '') url.port = null;\n      else parseURL(url, port, PORT);\n    }),\n    // `URL.prototype.pathname` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-pathname\n    pathname: accessorDescriptor(getPathname, function (pathname) {\n      var url = getInternalURLState(this);\n      if (url.cannotBeABaseURL) return;\n      url.path = [];\n      parseURL(url, pathname + '', PATH_START);\n    }),\n    // `URL.prototype.search` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-search\n    search: accessorDescriptor(getSearch, function (search) {\n      var url = getInternalURLState(this);\n      search = String(search);\n      if (search == '') {\n        url.query = null;\n      } else {\n        if ('?' == search.charAt(0)) search = search.slice(1);\n        url.query = '';\n        parseURL(url, search, QUERY);\n      }\n      getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);\n    }),\n    // `URL.prototype.searchParams` getter\n    // https://url.spec.whatwg.org/#dom-url-searchparams\n    searchParams: accessorDescriptor(getSearchParams),\n    // `URL.prototype.hash` accessors pair\n    // https://url.spec.whatwg.org/#dom-url-hash\n    hash: accessorDescriptor(getHash, function (hash) {\n      var url = getInternalURLState(this);\n      hash = String(hash);\n      if (hash == '') {\n        url.fragment = null;\n        return;\n      }\n      if ('#' == hash.charAt(0)) hash = hash.slice(1);\n      url.fragment = '';\n      parseURL(url, hash, FRAGMENT);\n    })\n  });\n}\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\nredefine(URLPrototype, 'toJSON', function toJSON() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\n// `URL.prototype.toString` method\n// https://url.spec.whatwg.org/#URL-stringification-behavior\nredefine(URLPrototype, 'toString', function toString() {\n  return serializeURL.call(this);\n}, { enumerable: true });\n\nif (NativeURL) {\n  var nativeCreateObjectURL = NativeURL.createObjectURL;\n  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;\n  // `URL.createObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  if (nativeCreateObjectURL) redefine(URLConstructor, 'createObjectURL', function createObjectURL(blob) {\n    return nativeCreateObjectURL.apply(NativeURL, arguments);\n  });\n  // `URL.revokeObjectURL` method\n  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  if (nativeRevokeObjectURL) redefine(URLConstructor, 'revokeObjectURL', function revokeObjectURL(url) {\n    return nativeRevokeObjectURL.apply(NativeURL, arguments);\n  });\n}\n\nsetToStringTag(URLConstructor, 'URL');\n\n$({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {\n  URL: URLConstructor\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends({}, Observer, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};","import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\n\nvar supportsResizeObserver = function supportsResizeObserver() {\n  var window = getWindow();\n  return typeof window.ResizeObserver !== 'undefined';\n};\n\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        observer: null,\n        createObserver: function createObserver() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.resize.observer = new ResizeObserver(function (entries) {\n            var width = swiper.width,\n                height = swiper.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_ref) {\n              var contentBoxSize = _ref.contentBoxSize,\n                  contentRect = _ref.contentRect,\n                  target = _ref.target;\n              if (target && target !== swiper.el) return;\n              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n              swiper.resize.resizeHandler();\n            }\n          });\n          swiper.resize.observer.observe(swiper.el);\n        },\n        removeObserver: function removeObserver() {\n          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {\n            swiper.resize.observer.unobserve(swiper.el);\n            swiper.resize.observer = null;\n          }\n        },\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow();\n\n      if (swiper.params.resizeObserver && supportsResizeObserver()) {\n        swiper.resize.createObserver();\n        return;\n      } // Emit resize\n\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      swiper.resize.removeObserver();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};","const mainAnimateClass = 'fp-animate';\nconst offScreenResetClass = 'fp-animate--offscreen-reset';\nconst animationNameRegex = /fp-animate__([a-z_]+)/g;\n\nexport const initAnimations = () => {\n\tconst intersectingOptions = {\n\t\troot: null,\n\t\trootMargin: '0px',\n\t};\n\n\tsetTimeout( () => {\n\t\tconst animationCallback = ( entries ) => {\n\t\t\tentries.forEach( ( entry ) => {\n\t\t\t\tconst animationClass = entry.target.className.match( animationNameRegex );\n\n\t\t\t\tif ( animationClass && Array.isArray( animationClass ) && animationClass[ 0 ] ) {\n\t\t\t\t\tconst animationOnHoverClass = `${ animationClass[ 0 ] }--on-hover`;\n\t\t\t\t\tif ( ! entry.target.classList.contains( animationOnHoverClass ) ) {\n\t\t\t\t\t\tconst animationTriggerClass = `${ animationClass[ 0 ] }--animate`;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t! entry.target.classList.contains( animationTriggerClass ) &&\n\t\t\t\t\t\t\tentry.isIntersecting\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tentry.target.classList.add( animationTriggerClass );\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tentry.target.classList.contains( animationTriggerClass ) &&\n\t\t\t\t\t\t\t! entry.isIntersecting &&\n\t\t\t\t\t\t\tentry.target.classList.contains( offScreenResetClass )\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst currentStyle = entry.target.getAttribute( 'style' );\n\t\t\t\t\t\t\tentry.target.setAttribute(\n\t\t\t\t\t\t\t\t'style',\n\t\t\t\t\t\t\t\t'animation-delay: 0s !important; animation-duration: 0s !important; transition-delay: 0s !important; transition-duration: 0s !important;'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tentry.target.classList.remove( animationTriggerClass );\n\t\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\t\tentry.target.setAttribute(\n\t\t\t\t\t\t\t\t\t'style',\n\t\t\t\t\t\t\t\t\tcurrentStyle ? currentStyle : ''\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 100 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\n\t\twrapMultipleAnimations();\n\n\t\t// eslint-disable-next-line no-undef\n\t\tconst animationObserver = new IntersectionObserver(\n\t\t\tanimationCallback,\n\t\t\tintersectingOptions\n\t\t);\n\n\t\tdocument.querySelectorAll( `.${ mainAnimateClass }` ).forEach( ( animationNode ) => {\n\t\t\tanimationObserver.observe( animationNode );\n\t\t} );\n\t}, 100 );\n};\n\nconst wrapMultipleAnimations = () => {\n\tdocument.querySelectorAll( `.${ mainAnimateClass }` ).forEach( ( animationNode ) => {\n\t\tconst foundAnimations = animationNode.className.match( animationNameRegex );\n\t\tif ( foundAnimations && Array.isArray( foundAnimations ) ) {\n\t\t\tconst uniqueFoundAnimations = [ ...new Set( foundAnimations ) ];\n\n\t\t\tif ( uniqueFoundAnimations.length > 1 ) {\n\t\t\t\t//Make multiple-animation wrappers for animations that are defined after first one\n\t\t\t\tfor ( let i = 1; i < uniqueFoundAnimations.length; ++i ) {\n\t\t\t\t\tconst multipleAnimationWrapper = document.createElement( 'DIV' );\n\t\t\t\t\tmultipleAnimationWrapper.classList.add( 'fp-animate' );\n\t\t\t\t\tmultipleAnimationWrapper.classList.add( 'fp-animate--multiple-animation' );\n\n\t\t\t\t\tmultipleAnimationWrapper.classList.add( `${ uniqueFoundAnimations[ i ] }` );\n\t\t\t\t\tanimationNode.classList.remove( `${ uniqueFoundAnimations[ i ] }` );\n\t\t\t\t\tif (\n\t\t\t\t\t\tanimationNode.classList.contains(\n\t\t\t\t\t\t\t`${ uniqueFoundAnimations[ i ] }--on-hover`\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tmultipleAnimationWrapper.classList.add(\n\t\t\t\t\t\t\t`${ uniqueFoundAnimations[ i ] }--on-hover`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tanimationNode.classList.remove(\n\t\t\t\t\t\t\t`${ uniqueFoundAnimations[ i ] }--on-hover`\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( animationNode.classList.contains( offScreenResetClass ) ) {\n\t\t\t\t\t\tmultipleAnimationWrapper.classList.add( offScreenResetClass );\n\t\t\t\t\t}\n\n\t\t\t\t\tmultipleAnimationWrapper.innerHTML = animationNode.outerHTML;\n\t\t\t\t\tanimationNode.parentNode.replaceChild(\n\t\t\t\t\t\tmultipleAnimationWrapper,\n\t\t\t\t\t\tanimationNode\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} );\n};\n\nexport const animate = function ( node, animationName ) {\n\tif ( node && node.classList ) {\n\t\tnode.classList.add( `fp-animate__${ animationName }` );\n\t\tnode.classList.add( `fp-animate__${ animationName }--animate` );\n\t}\n};\n","/**\n * Cookies module.\n *\n * Uses js-cookie to manage cookies.\n */\n\nimport Cookies from 'js-cookie';\nimport { getDomainFromFQDN } from 'scripts/helpers/_utils';\n\n/**\n * Set up cookie default parameters.\n *\n * @param {Object} [options={}] Options for setting default parameters. Supports `path` and `domain` params.\n */\nexport const initCookieDefaults = ( options = {} ) => {\n\tif ( 'string' === typeof options.path ) {\n\t\tCookies.defaults.path = options.path;\n\t} else {\n\t\tCookies.defaults.path = '/';\n\t}\n\n\tif ( 'string' === typeof options.domain ) {\n\t\tCookies.defaults.domain = options.domain;\n\t} else if ( 'function' === typeof getDomainFromFQDN ) {\n\t\tCookies.defaults.domain = getDomainFromFQDN( window.location.host );\n\t} else {\n\t\tCookies.defaults.domain = window.location.host;\n\t}\n};\n\n/**\n * Sets a cookie value using the site defaults (path = /; domain = parent domain).\n *\n * @param {string} name Name of the cookie to be set.\n * @param {string} value Cookie value to be stored.\n * @param {number} days Number of days to set the cookie for.\n * @param {Object} [options={}] Full options object for js-cookie if needed.\n */\nexport const createCookie = ( name, value, days, options = {} ) => {\n\tif ( ! Cookies.defaults || ! Cookies.defaults.path || ! Cookies.defaults.domain ) {\n\t\tinitCookieDefaults();\n\t}\n\n\tif ( days ) {\n\t\toptions.expires = days;\n\t}\n\n\tCookies.set( name, value, options );\n};\n\n/**\n * Gets a cookie value by name.\n *\n * @param {string} name Name of the cookie to retrieve.\n * @return {string} Cookie value.\n */\nexport const readCookie = ( name ) => {\n\tif ( ! Cookies.defaults || ! Cookies.defaults.path || ! Cookies.defaults.domain ) {\n\t\tinitCookieDefaults();\n\t}\n\n\treturn Cookies.get( name );\n};\n\n/**\n * Removes a cookie by name.\n *\n * @param {string} name Name of the cookie to remove.\n * @param {Object} [options={}] Full options object for js-cookie if needed.\n */\nexport const eraseCookie = ( name, options = {} ) => {\n\tif ( ! Cookies.defaults || ! Cookies.defaults.path || ! Cookies.defaults.domain ) {\n\t\tinitCookieDefaults();\n\t}\n\n\tCookies.remove( name, options );\n};\n\n/**\n * If a cookie is not already set, sets a cookie value using the site defaults (path = /; domain = parent domain).\n *\n * @param {string} name Name of the cookie to be set.\n * @param {string} value Cookie value to be stored.\n * @param {number} days Number of days to set the cookie for.\n * @param {Object} [options={}] Full options object for js-cookie if needed.\n */\nexport const createCookieIfMissing = ( name, value, days = null, options = {} ) => {\n\tif ( typeof readCookie( name ) === 'undefined' ) {\n\t\tcreateCookie( name, value, days, options );\n\t}\n};\n\n/**\n * Set a cookie denoting cookie policy accepted.\n *\n */\nexport const acceptCookiePolicy = () => {\n\tcreateCookie( 'cookies-declined', 'false', 365 );\n};\n\n/**\n * Set a cookie denoting cookie policy declined, and optionally redirect with DNT param.\n *\n * @param {Object} [options={redirect:true}] Optional params: redirect - Should the function redirect with the fb_dnt param.\n */\nexport const declineCookiePolicy = ( options = { redirect: true } ) => {\n\tcreateCookie( 'cookies-declined', 'true', 30 );\n\tif ( options.redirect ) {\n\t\twindow.location.search = window.location.search\n\t\t\t? `${ window.location.search }&fb_dnt=1`\n\t\t\t: '?fb_dnt=1';\n\t}\n};\n\n/**\n * Is the cookie policy explicitly accepted.\n *\n * @return {boolean} Cookie policy accepted.\n */\nexport const isCookiePolicyAccepted = () => {\n\treturn readCookie( 'cookies-declined' ) === 'false';\n};\n\n/**\n * Is the cookie policy explicitly declined.\n *\n * @return {boolean} Cookie policy declined.\n */\nexport const isCookiePolicyDeclined = () => {\n\treturn readCookie( 'cookies-declined' ) === 'true';\n};\n\n/**\n * Initialize the cookie modal.\n */\nexport const initCookieModal = () => {\n\tconst modalCookies = document.querySelector( '#modal-cookies' );\n\n\tif ( modalCookies ) {\n\t\tconst cookieName = 'banner-cookie-consent-dismissed';\n\t\tconst legacyCookieName = 'banner-cookie-policy-dismissed';\n\t\tconst buttonAccept = modalCookies.querySelector( '.js-cookies-accept' );\n\t\tconst buttonDecline = modalCookies.querySelector( '.js-cookies-decline' );\n\n\t\tif ( buttonAccept ) {\n\t\t\tbuttonAccept.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tcreateCookie( cookieName, 'true', 365 );\n\t\t\t\tcreateCookie( legacyCookieName, 'true', 365 );\n\t\t\t\t$( modalCookies ).modal( 'hide' );\n\t\t\t\tacceptCookiePolicy();\n\t\t\t} );\n\t\t}\n\n\t\tif ( buttonDecline ) {\n\t\t\tbuttonDecline.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tcreateCookie( cookieName, 'true', 30 );\n\t\t\t\tcreateCookie( legacyCookieName, 'true', 30 );\n\t\t\t\t$( modalCookies ).modal( 'hide' );\n\t\t\t\tdeclineCookiePolicy( { redirect: true } );\n\t\t\t} );\n\t\t}\n\t}\n};\n\n/**\n * Initialise tracking-related events.\n */\nexport const initCookiesModalListener = () => {\n\tconst openCookiesModalTriggers = document.querySelectorAll( '.js-openCookieModal' );\n\tconst modalCookies = document.querySelector( '#modal-cookies' );\n\n\tif ( openCookiesModalTriggers ) {\n\t\topenCookiesModalTriggers.forEach( ( openCookieModalItem ) => {\n\t\t\topenCookieModalItem.addEventListener( 'click', () => {\n\t\t\t\t$( modalCookies ).modal( 'show' );\n\t\t\t} );\n\t\t} );\n\t}\n};\n","/**\n * Forms module.\n */\n\nimport * as _validation from 'scripts/modules/_validation';\nimport {\n\tgetDataAttr,\n\thasDataAttr,\n\tgetAttrOrData,\n\thasAttrOrData,\n} from 'scripts/helpers/_attributes';\nimport { handleSignup } from 'scripts/modules/_signup';\nimport { toCamelCase } from 'scripts/helpers/_strings';\n\n/**\n * Initialise all forms on a page.\n */\nexport const initForms = () => {\n\tconst forms = getAllForms();\n\n\tif ( forms && 'forEach' in forms ) {\n\t\tforms.forEach( ( form ) => {\n\t\t\tform.addEventListener( 'submit', ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tconst fields = validateAllFields( form );\n\t\t\t\tconst formValid =\n\t\t\t\t\tfields.length === fields.filter( ( field ) => field.isValid ).length;\n\n\t\t\t\tif ( formValid ) {\n\t\t\t\t\tform.classList.remove( 'was-validated' );\n\t\t\t\t\tconst handler = getDataAttr( form, 'form-handler' );\n\n\t\t\t\t\tif ( handler === 'handleSignup' ) {\n\t\t\t\t\t\thandleSignup( form );\n\t\t\t\t\t} else if ( typeof handler === 'function' ) {\n\t\t\t\t\t\thandler.call( window, form );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tform.classList.add( 'was-validated' );\n\t\t\t\t\tconst firstError = form.querySelector(\n\t\t\t\t\t\t'.form-control:invalid, .form-control-checkbox:invalid'\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( firstError ) {\n\t\t\t\t\t\tfirstError.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tconst fields = getAllFormFields( form );\n\n\t\t\tfields.forEach( ( field ) => {\n\t\t\t\t// check if field is a Select to handle on change event\n\t\t\t\tif ( field.tagName === 'SELECT' ) {\n\t\t\t\t\tfield.addEventListener( 'change', () => {\n\t\t\t\t\t\tvalidateField( field );\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tfield.addEventListener( 'keyup', () => {\n\t\t\t\t\t\tvalidateField( field );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n};\n\n/**\n * Filter an array of DOM elements - by default filtering by 'type' attribute.\n *\n * @param {Array|NodeList}  fields   Array or NodeList (array-like) of input field DOM elements.\n * @param {Array}           excludes Array of attribute values to filter.\n * @param {string}          attr     Attribute to filter on (defaults to 'type').\n */\nexport const filterInputFields = (\n\tfields,\n\texcludes = [ 'button', 'submit', 'reset', 'image' ],\n\tattr = 'type'\n) => {\n\treturn Array.from( fields ).filter( ( el ) => ! excludes.includes( el[ attr ] ) );\n};\n\n/**\n * Get all forms on a page (or in a container).\n *\n * @param {string|HTMLElement} [parent=document] A selector string or DOM element.\n */\nexport const getAllForms = ( parent ) => {\n\tlet forms = [];\n\n\tif ( 'string' === typeof parent ) {\n\t\tparent = document.querySelector( parent );\n\t} else if ( ! parent ) {\n\t\tparent = document;\n\t}\n\n\tif ( parent && 'querySelectorAll' in parent ) {\n\t\tforms = parent.querySelectorAll( 'form' );\n\t}\n\n\treturn forms;\n};\n\n/**\n * Get all fields within a form.\n *\n * @param {string|HTMLFormElement} form A selector string or DOM element.\n */\nexport const getAllFormFields = ( form ) => {\n\tlet fields = [];\n\n\tif ( 'string' === typeof form ) {\n\t\tform = document.querySelector( form );\n\t}\n\n\tif ( form && form instanceof window.HTMLFormElement ) {\n\t\tif ( form && form.elements ) {\n\t\t\tfields = filterInputFields( form.elements );\n\t\t}\n\t}\n\n\treturn fields;\n};\n\n/**\n * Get the type of a field.\n *\n * @param {HTMLElement} field A DOM element.\n */\nexport const getFieldType = ( field ) => {\n\tlet fieldType = getDataAttr( field, 'type' );\n\n\tif ( fieldType ) {\n\t\treturn fieldType;\n\t}\n\n\tif ( field.tagName ) {\n\t\tconst tagName = field.tagName.toLowerCase();\n\n\t\tif ( tagName === 'input' && field.type ) {\n\t\t\tfieldType = field.type;\n\t\t} else {\n\t\t\tfieldType = tagName;\n\t\t}\n\t}\n\n\treturn fieldType;\n};\n\n/**\n * Get the value of a field.\n *\n * @param {HTMLElement} field A DOM element.\n */\nexport const getFieldValue = ( field ) => {\n\tconst fieldType = getFieldType( field );\n\n\tif ( 'select' === fieldType && field.multiple && field.selectedIndex >= 0 ) {\n\t\tconst optArray = field.selectedOptions\n\t\t\t? Array.from( field.selectedOptions )\n\t\t\t: Array.from( field.options ).filter( ( opt ) => !! opt.selected );\n\n\t\treturn optArray.map( ( opt ) => opt.value );\n\t}\n\n\tif ( 'checkbox' === fieldType || 'radio' === fieldType ) {\n\t\treturn field.checked;\n\t}\n\n\treturn field.value;\n};\n\n/**\n * Set the value of a field.\n *\n * @param {HTMLElement} field A DOM element.\n * @param {*}           value Value to set for the input field.\n * @return {HTMLElement} field element returned for chaining.\n */\nexport const setFieldValue = ( field, value ) => {\n\tconst fieldType = getFieldType( field );\n\n\tif ( 'select' === fieldType && field.multiple && Array.isArray( value ) ) {\n\t\tfield.value = null;\n\t\tArray.from( field.options )\n\t\t\t.filter( ( opt ) => value.includes( opt.value ) )\n\t\t\t.forEach( ( opt ) => {\n\t\t\t\topt.selected = true;\n\t\t\t} );\n\t} else if ( 'checkbox' === fieldType || 'radio' === fieldType ) {\n\t\tfield.checked = !! value;\n\t} else if ( undefined !== value ) {\n\t\tif ( value && field.maxLength && field.maxLength > 0 && value.length > field.maxLength ) {\n\t\t\tfield.value = value.slice( 0, field.maxLength );\n\t\t} else {\n\t\t\tfield.value = value;\n\t\t}\n\t}\n\n\treturn field;\n};\n\n/**\n * Get the validation type of a field (data-validation).\n *\n * @param {HTMLElement} field Expects a DOM element\n * @return {Array} Types of validation required for this field.\n */\nexport const getValidationRules = ( field ) => {\n\tlet validationRules = [];\n\n\tif ( field && field.dataset && field.dataset.validation ) {\n\t\tvalidationRules = field.dataset.validation.split( ' ' );\n\t} else {\n\t\tconst fieldType = getFieldType( field );\n\n\t\tif ( fieldType === 'email' ) {\n\t\t\tvalidationRules.push( 'isEmail' );\n\t\t} else if ( fieldType === 'tel' ) {\n\t\t\tvalidationRules.push( 'isPhone' );\n\t\t}\n\t}\n\n\tif ( hasAttrOrData( field, 'required' ) ) {\n\t\tvalidationRules.push( 'required' );\n\t}\n\n\treturn validationRules.map( ( rule ) => toCamelCase( rule ) );\n};\n\n/**\n * Validate a field.\n *\n * @param {HTMLElement} field Expects a DOM element.\n * @return {boolean} Field validity.\n */\nexport const validateField = ( field ) => {\n\tif ( ! field || ! field.validity ) {\n\t\treturn;\n\t}\n\tconst validationRules = getValidationRules( field );\n\tconst fieldVal = getFieldValue( field );\n\tconst tooltip = field.parentNode ? field.parentNode.querySelector( '.invalid-tooltip' ) : false;\n\tconst validationOptions = {\n\t\tallowZero: hasDataAttr( field, 'allow-zero' ),\n\t\tallowSpaces: hasDataAttr( field, 'allow-spaces' ),\n\t};\n\n\tfield.setCustomValidity( '' ); // Reset validity for this field.\n\tif ( tooltip ) {\n\t\ttooltip.innerHTML = field.validationMessage;\n\t}\n\n\t// Check if field is required.\n\tif (\n\t\tvalidationRules.includes( 'required' ) &&\n\t\t_validation.isEmpty( fieldVal, validationOptions )\n\t) {\n\t\tfield.setCustomValidity( 'This field is required' );\n\t\tif ( tooltip ) {\n\t\t\ttooltip.innerHTML = field.validationMessage;\n\t\t}\n\t\treturn field.validity.valid;\n\t}\n\n\tif ( ! _validation.isEmpty( validationRules ) ) {\n\t\t// Check field type validation.\n\t\tvalidationRules.forEach( ( rule ) => {\n\t\t\tconst notRule = rule.startsWith( 'not' ) && rule.replace( /^not([A-Z])/, 'is$1' );\n\n\t\t\tif ( typeof _validation[ rule ] === 'function' && ! _validation[ rule ]( fieldVal ) ) {\n\t\t\t\tfield.setCustomValidity( 'This field is invalid' );\n\t\t\t} else if (\n\t\t\t\ttypeof _validation[ notRule ] === 'function' &&\n\t\t\t\t_validation[ notRule ]( fieldVal )\n\t\t\t) {\n\t\t\t\tfield.setCustomValidity( 'This field is invalid' );\n\t\t\t}\n\n\t\t\tif ( tooltip ) {\n\t\t\t\ttooltip.innerHTML = field.validationMessage;\n\t\t\t}\n\t\t\tif ( ! field.validity.valid ) {\n\t\t\t\treturn field.validity.valid;\n\t\t\t}\n\t\t} );\n\t}\n\n\t// Check the length of the field value.\n\tconst stringFieldVal = fieldVal.toString().trim();\n\tconst minLength = getAttrOrData( field, 'minlength' ) || 0;\n\tconst maxLength = getAttrOrData( field, 'maxlength' ) || window.Number.MAX_SAFE_INTEGER;\n\n\tif ( minLength > 0 || maxLength < window.Number.MAX_SAFE_INTEGER ) {\n\t\tif ( stringFieldVal.length < minLength ) {\n\t\t\tfield.setCustomValidity( `Value is too short: minimum length is ${ minLength }` );\n\t\t} else if ( stringFieldVal.length > maxLength ) {\n\t\t\tfield.setCustomValidity( `Value is too long: maximum length is ${ maxLength }` );\n\t\t}\n\t\tif ( tooltip ) {\n\t\t\ttooltip.innerHTML = field.validationMessage;\n\t\t}\n\t}\n\n\t// NOTE: Disabled until isInRange fixed.\n\t// if ( ( minLength && minLength > 0 ) || ( maxLength && maxLength > 0 ) ) {\n\t// \tconst lengthValidation = _validation.isInRange(\n\t// \t\tstringFieldVal.length,\n\t// \t\tminLength,\n\t// \t\tmaxLength\n\t// \t);\n\n\t// \tif ( minLength > 0 && lengthValidation < 0 ) {\n\t// \t\tmsg = `Value is too short: minimum length is ${ minLength }`;\n\t// \t\tfield.setCustomValidity( msg );\n\t// \t} else if ( maxLength < window.Number.MAX_SAFE_INTEGER && lengthValidation > 0 ) {\n\t// \t\tmsg = `Value is too long: maximum length is ${ maxLength }`;\n\t// \t\tfield.setCustomValidity( msg );\n\t// \t}\n\t// }\n\n\treturn field.validity.valid;\n};\n\n/**\n * Validate all fields within a form.\n *\n * @param {string|HTMLFormElement} form A selector string or DOM element.\n * @return {Array} All fields and their validity.\n */\nexport const validateAllFields = ( form ) => {\n\tconst fields = [];\n\n\tgetAllFormFields( form ).forEach( ( el ) => {\n\t\tfields.push( {\n\t\t\tfield: el,\n\t\t\tisValid: validateField( el ),\n\t\t} );\n\t} );\n\n\treturn fields;\n};\n","/**\n * Internationalization module.\n */\n\nimport countryList from 'mui/utils/country/list';\nimport { createCookie, readCookie } from 'scripts/modules/_cookies';\nimport { toTitleCase } from 'scripts/helpers/_strings';\nimport countryToCurrency from 'scripts/json/country-to-currency.json';\n\nconst i18nVars = window.fbVars && window.fbVars.i18n ? window.fbVars.i18n : {};\n\n/**\n * Gets site's country as 2-character code.\n *\n * @param {string} [format=upper] Set casing of return value.\n * @return {string} 2 character country code w/ chosen casing.\n */\nexport const getSiteCountryCode = ( format = 'upper' ) => {\n\tconst countryCode = i18nVars.siteCountryCode || 'US';\n\treturn format === 'lower' ? countryCode.toLowerCase() : countryCode.toUpperCase();\n};\n\n/**\n * Gets billing country code as 2-character uppercase code.\n *\n * @return {string} Uppercase billing country code.\n */\nexport const getBillingCountryCode = () => ( i18nVars.siteCountryCode || 'US' ).toUpperCase();\n\n/**\n * Gets the site language as lowercase 2-character code.\n *\n * @return {string} Lowercase 2 character country code.\n */\nexport const getLanguage = () => i18nVars.siteLangCode || 'en';\n\n/**\n * Gets the user's country as 2-character code.\n *\n * @param {string} [format=upper] Set casing of return value.\n * @return {string} 2 character country code selected by user.\n */\nexport const getUserCountryCode = ( format = 'upper' ) => {\n\tconst countryCode = readCookie( 'user-country-code' ) || 'US';\n\n\tif ( format === 'lower' ) {\n\t\treturn countryCode.toLowerCase();\n\t}\n\n\treturn countryCode.toUpperCase();\n};\n\n/**\n * Get the 2-character codes for all supported site countries.\n *\n * @return {Array} All supported country codes\n */\nexport const getSiteCountryCodes = () => {\n\tif ( i18nVars.supportedRegions ) {\n\t\tconst siteCountryCodes = Object.keys( i18nVars.supportedRegions );\n\n\t\tif ( Array.isArray( siteCountryCodes ) ) {\n\t\t\treturn siteCountryCodes;\n\t\t}\n\t}\n\n\treturn [ 'us' ];\n};\n\n/**\n * Get the 2-character country code for the site we think is the correct region for the user.\n *\n * @param {string} [format=upper] Set casing of return value.\n * @return {string} Country code based off detected location and supported list.\n */\nexport const getSuggestedCountryCode = ( format = 'upper' ) => {\n\tconst countryCode = readCookie( 'user-country-code' );\n\n\tif ( typeof countryCode === 'string' ) {\n\t\tconst siteCountryCodes = getSiteCountryCodes();\n\n\t\tif ( siteCountryCodes.indexOf( countryCode.toLowerCase() ) !== -1 ) {\n\t\t\treturn format === 'lower' ? countryCode.toLowerCase() : countryCode.toUpperCase();\n\t\t}\n\t}\n\n\treturn format === 'lower' ? 'us' : 'US';\n};\n\n/**\n * Gets the user's country as a full name.\n *\n * @return {string} Full country name.\n */\nexport const getUserCountryName = () => readCookie( 'user-country-name' ) || 'United States';\n\n/**\n * Gets the relevant currency code for the user's country.\n *\n * @return {string} Country currency code.\n */\nexport const getUserCurrencyCode = () => {\n\tconst countryCodeCookie = getUserCountryCode();\n\n\treturn countryCodeCookie in countryToCurrency ? countryToCurrency[ countryCodeCookie ] : 'USD';\n};\n\n/**\n * Gets the user region as a lang-country locale code.\n *\n * @return {string} Language-Country code (ex. en-CA).\n */\nexport const getUserRegionCode = () => `${ getLanguage() }-${ getUserCountryCode( 'lower' ) }`;\n\n/**\n * Sets a cookie with the country code (converted to uppercase) for 1 year.\n *\n * @param {string} [countryCode=US] Two letter country code\n */\nexport const setUserCountryCode = ( countryCode ) => {\n\tcreateCookie( 'user-country-code', ( countryCode || 'US' ).toUpperCase(), 365 );\n};\n\n/**\n * Sets a cookie with the country name (converted to title case) for 1 year.\n *\n * @param {string} [countryName=United States] Full name of country\n */\nexport const setUserCountryName = ( countryName ) => {\n\tcreateCookie(\n\t\t'user-country-name',\n\t\ttoTitleCase( countryName || 'United States', { exceptions: /^(and|of|the)$/ } ),\n\t\t365\n\t);\n};\n\n/**\n * Get an array of all FreshBooks supported countries, with both code and name returned.\n *\n * @return {Array} All supported country codes and names.\n */\nexport const getAppCountryList = () =>\n\tcountryList\n\t\t.map( ( el ) => {\n\t\t\tif ( el.name && el.name.common && el.name.short ) {\n\t\t\t\treturn {\n\t\t\t\t\tcode: el.name.short,\n\t\t\t\t\tname: el.name.common,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn false;\n\t\t} )\n\t\t.filter( ( el ) => el );\n\n/**\n * Get an array of all FreshBooks supported country codes.\n *\n * @return {Array} All supported country codes.\n */\nexport const getAppCountryCodes = () => getAppCountryList().map( ( el ) => el.code );\n\n/**\n * Get an array of all FreshBooks supported country names.\n *\n * @return {Array} All supported country names.\n */\nexport const getAppCountryNames = () => getAppCountryList().map( ( el ) => el.name );\n\n/**\n * By default, get Fastly country code when present. When user sets their region, this user country code\n * cookie will be updated with that value.\n */\nexport const setRegionCookies = () => {\n\tconst fastlyValueCode = readCookie( 'country-code' );\n\tconst fastlyValueName = readCookie( 'country-name' );\n\n\tif ( ! readCookie( 'user-country-code' ) ) {\n\t\tsetUserCountryCode( fastlyValueCode );\n\t}\n\tif ( ! readCookie( 'user-country-name' ) ) {\n\t\tsetUserCountryName( fastlyValueName );\n\t}\n\n\tcreateCookie( 'billing_country_code', getBillingCountryCode() );\n\tcreateCookie( 'fb_language', getLanguage() );\n};\n","/**\n * Signup module.\n */\n\nimport { isCookiePolicyAccepted, acceptCookiePolicy, readCookie } from 'scripts/modules/_cookies';\nimport { getFieldValue } from 'scripts/modules/_forms';\nimport {\n\tgetBillingCountryCode,\n\tgetUserCountryName,\n\tgetUserCurrencyCode,\n\tgetLanguage,\n} from 'scripts/modules/_i18n';\nimport { getAttrOrData } from 'scripts/helpers/_attributes';\nimport { getVisitorId, track, trackEvent } from 'scripts/modules/_tracking';\nimport 'bootstrap/js/dist/modal';\n\n/**\n * Set parameters for a signup request, and process the response.\n *\n * @param {Object} form Form object which is being submitted from.\n */\nexport const handleSignup = ( form ) => {\n\tif ( signupCookiesAccepted() ) {\n\t\tconst action = getAttrOrData( form, 'action' );\n\t\tlet referralId = null;\n\t\tif ( readCookie( 'fb_landing_url' ) !== null ) {\n\t\t\tconst referralCookie = decodeURIComponent( readCookie( 'fb_landing_url' ) ).match(\n\t\t\t\t'[?&]ref=([^&#]*)'\n\t\t\t);\n\n\t\t\tif ( referralCookie && referralCookie.length ) {\n\t\t\t\t[ , referralId ] = referralCookie;\n\t\t\t}\n\t\t}\n\t\tconst formData = {\n\t\t\tid: getFieldValue( form.email ),\n\t\t\temail: getFieldValue( form.email ),\n\t\t\tpassword: getFieldValue( form.password ),\n\t\t\tlanding_url: decodeURIComponent( readCookie( 'fb_landing_url' ) ),\n\t\t\tprovisioner: 'magnum',\n\t\t\tsend_confirmation_notification: true,\n\t\t\tvisitor_id: getVisitorId(),\n\t\t\taccess_token: null,\n\t\t\tcapacity: null,\n\t\t\tbilling_country_code: getBillingCountryCode(),\n\t\t\tcountry: getUserCountryName(),\n\t\t\tcurrencyCode: getUserCurrencyCode(),\n\t\t\tlanguage: getLanguage(),\n\t\t\toptimizely_buckets: readCookie( 'optimizely_buckets' ),\n\t\t\toptimizely_user_id: readCookie( 'optimizely_user_id' ),\n\t\t\treferralid: referralId,\n\t\t\treferring_url: decodeURIComponent( readCookie( 'fb_referring_url' ) ),\n\t\t\tweb_promo: readCookie( 'fb_web_promo' ),\n\t\t\tskip_business: false,\n\t\t\tskip_system: false,\n\t\t};\n\n\t\twindow\n\t\t\t.fetch( action, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify( formData ),\n\t\t\t} )\n\t\t\t.then( ( response ) => response.json() )\n\t\t\t.then( ( registerResponse ) => {\n\t\t\t\tif ( registerResponse.response ) {\n\t\t\t\t\tconst signupRedirect = `https://${\n\t\t\t\t\t\twindow.fbVars.fbDomains.auth\n\t\t\t\t\t}/integrations/confirm?email=${ encodeURIComponent(\n\t\t\t\t\t\tformData.email\n\t\t\t\t\t) }&firstVisit=true`;\n\n\t\t\t\t\twindow\n\t\t\t\t\t\t.fetch( `https://${ window.fbVars.fbDomains.api }/auth/api/v1/users/me`, {\n\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `Bearer ${ registerResponse.response.access_token }`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.then( ( response ) => response.json() )\n\t\t\t\t\t\t.then( ( apiResponse ) => {\n\t\t\t\t\t\t\tif ( form.classList.contains( 'hero__signup-form' ) ) {\n\t\t\t\t\t\t\t\ttrackEvent( 'optimizely', 'User-Hero-Sign-Up' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrackEvent( 'optimizely', 'smux_account_signup' );\n\n\t\t\t\t\t\t\t// Separate GTM push for accountid so it's available to later pushes.\n\t\t\t\t\t\t\tif ( apiResponse && apiResponse.account_id ) {\n\t\t\t\t\t\t\t\ttrack( 'gtm', { accountid: apiResponse.account_id } );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttrack( 'gtm', {\n\t\t\t\t\t\t\t\tclassic_or_nfb: 'nfb',\n\t\t\t\t\t\t\t\tevent: 'smux.account.signup',\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\twindow.location = signupRedirect;\n\t\t\t\t\t\t} );\n\t\t\t\t} else if ( registerResponse.error_description ) {\n\t\t\t\t\tconst emailField = form.email;\n\t\t\t\t\tconst emailTooltip = form.querySelector(\n\t\t\t\t\t\t'input[name=\"email\"] ~ .invalid-tooltip'\n\t\t\t\t\t);\n\n\t\t\t\t\tlet errorMessage = registerResponse.error_description.replace(\n\t\t\t\t\t\t'Validation failed: ',\n\t\t\t\t\t\t''\n\t\t\t\t\t);\n\n\t\t\t\t\tif ( registerResponse.error === 'unprocessable_entity' ) {\n\t\t\t\t\t\terrorMessage = 'This field is invalid';\n\t\t\t\t\t}\n\n\t\t\t\t\temailTooltip.innerHTML = errorMessage;\n\t\t\t\t\temailField.setCustomValidity( errorMessage );\n\t\t\t\t\tform.classList.add( 'was-validated' );\n\t\t\t\t\temailField.focus();\n\t\t\t\t}\n\t\t\t} );\n\t}\n};\n\n/**\n * Signup with SSO provider. If provider string indicated, will supply the url based on the provider.\n * Otherwise, provider URL will be based off the SSO button class.\n *\n * @param {string} provider SSO Provider as a string (\"google\" or \"apple\").\n */\nexport const handleSsoSignup = ( provider ) => {\n\tif ( 'google' === provider || 'apple' === provider ) {\n\t\tconst authEndpoint = provider === 'google' ? 'google_oauth2_central_sso' : provider;\n\t\tconst signupButtons = document.querySelectorAll( `.sso-signup_${ provider }` );\n\t\tconst tosCheckbox = document.querySelector( '#tos-accepted' );\n\n\t\tif ( signupButtons ) {\n\t\t\tsignupButtons.forEach( ( signupButton ) => {\n\t\t\t\tsignupButton.addEventListener( 'click', ( e ) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif ( signupCookiesAccepted() ) {\n\t\t\t\t\t\ttrackEvent( 'gtm', `${ provider }sso.signup.triggered` );\n\t\t\t\t\t\tconst href = signupButton.getAttribute( 'href' );\n\n\t\t\t\t\t\tif ( ( tosCheckbox && tosCheckbox.checked ) || ! tosCheckbox ) {\n\t\t\t\t\t\t\tif ( href && href.length > 1 && href !== '#' ) {\n\t\t\t\t\t\t\t\twindow.location.href = signupButton.href;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twindow.location.href = `https://${ window.fbVars.fbDomains.auth }/service/auth/auth/${ authEndpoint }?intent=sign_up`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t}\n};\n\n/**\n * Checks the cookie policy prior to signup.\n */\nexport const signupCookiesAccepted = () => {\n\tconst tosCheckbox = document.querySelector( '#tos-accepted' );\n\tif ( isCookiePolicyAccepted() || tosCheckbox.checked ) {\n\t\tif ( ! readCookie( 'cookies-declined' ) ) {\n\t\t\tacceptCookiePolicy();\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst $modalCookies = $( '#modal-cookies' );\n\n\tif ( $modalCookies && $modalCookies.length ) {\n\t\t$( '#modal-cookies' ).modal( 'show' );\n\t}\n\n\treturn false;\n};\n","/**\n * Tracking module.\n */\n\nimport uuidv4 from 'uuid/dist/v4';\nimport {\n\tcreateCookie,\n\tcreateCookieIfMissing,\n\tisCookiePolicyDeclined,\n\treadCookie,\n} from 'scripts/modules/_cookies';\nimport { getLanguage, getSiteCountryCode } from 'scripts/modules/_i18n';\nimport { addEventListeners } from 'scripts/helpers/_events';\nimport { isSameDomain, parseQueryString } from 'scripts/helpers/_utils';\n\n/**\n * Gets the provider object by name.\n *\n * @param {string} provider Name of provider to retrieve.\n * @return {Object|null} The tracking provider object in use.\n */\nconst getTracker = ( provider ) => {\n\tlet tracker = null;\n\n\tif ( typeof provider === 'string' ) {\n\t\tconst providerKey = provider.toLowerCase();\n\t\tif ( providerKey === 'datalayer' || providerKey === 'gtm' ) {\n\t\t\ttracker = window.dataLayer;\n\t\t} else if ( providerKey === 'optimizely' ) {\n\t\t\ttracker = window.optimizely;\n\t\t}\n\t}\n\n\treturn tracker;\n};\n\n/**\n * Track some data with a tracking provider.\n *\n * @param {string} provider Tracking provider - should probably be 'gtm' or 'optimizely'.\n * @param {Object} data     Data to be tracked.\n * @param {string} fn       Provider function used for tracking. Defaults to 'push'.\n */\nexport const track = ( provider, data, fn = 'push' ) => {\n\tif ( data && provider ) {\n\t\tconst tracker = getTracker( provider );\n\n\t\tif ( tracker && typeof tracker[ fn ] === 'function' ) {\n\t\t\ttracker[ fn ]( data );\n\t\t}\n\t}\n};\n\n/**\n * Track an event with a tracking provider.\n *\n * @param {string} provider Tracking provider - should probably be 'gtm' or 'optimizely'.\n * @param {string} name     Name of the event to track.\n * @param {string} fn       Provider function used for tracking.\n */\nexport const trackEvent = ( provider, name, fn ) => {\n\tif ( provider === 'optimizely' ) {\n\t\ttrack( provider, { type: 'event', eventName: name }, fn );\n\t} else {\n\t\ttrack( provider, { event: name }, fn );\n\t}\n};\n\n/**\n * Test if a provider is active by looking for its presence in the window object, and then\n * checking if the function/variable specified is defined.\n *\n * @param {string} provider Tracking provider - should probably be 'gtm' or 'optimizely'.\n * @param {string} test     Function or variable name to test for. Defaults to 'push'.\n * @return {boolean} Is tracking provider active.\n */\nexport const isProviderActive = ( provider, test = 'push' ) => {\n\tlet active = false;\n\n\tif ( provider ) {\n\t\tconst tracker = getTracker( provider );\n\n\t\tactive = tracker && typeof tracker[ test ] !== 'undefined';\n\t}\n\n\treturn active;\n};\n\n/**\n * Get the cookie fb_visitor_id, if not already set, create a v4 UUID and set the cookie.\n */\nexport const getVisitorId = () => {\n\tlet visitorId = readCookie( 'fb_visitor_id' );\n\n\tif ( ! visitorId ) {\n\t\tvisitorId = uuidv4();\n\t\tcreateCookie( 'fb_visitor_id', visitorId, 365 );\n\t}\n\n\treturn visitorId;\n};\n\n/**\n * DataLayer global init.\n */\nexport const setGlobalDataLayer = () => {\n\ttrack( 'gtm', {\n\t\taccountid: undefined,\n\t\tcustomerType: undefined,\n\t\tuser_role: undefined,\n\t\tclassic_or_nfb: undefined,\n\t\tplan_name: undefined,\n\t\tidentity_id: undefined,\n\t\tbusiness_id: undefined,\n\t\tvisitorId: getVisitorId(),\n\t\tvisitor_country: getSiteCountryCode(),\n\t\tvisitor_language: getLanguage(),\n\t} );\n};\n\n/**\n * Tracks all CTAs on a page.\n */\nexport const addLinkTracking = () => {\n\tconst trackableEntities = document.querySelectorAll( '.btn-cta-green, .btn-white, a, button' );\n\n\ttrackableEntities.forEach( ( entity ) => {\n\t\tif (\n\t\t\tentity &&\n\t\t\t( entity.closest( 'div[data-cta-section]' ) || entity.closest( 'a[data-cta-section]' ) )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tlet event = 'linkClick';\n\t\tif (\n\t\t\tentity.classList.contains( 'btn-cta-green' ) ||\n\t\t\tentity.classList.contains( 'btn-white' ) ||\n\t\t\tentity.classList.contains( 'btn-outline-grey' )\n\t\t) {\n\t\t\tevent = 'ctaClick';\n\t\t}\n\n\t\tconst ctaContainer = entity.closest( '.fp-block' );\n\t\tif ( ctaContainer ) {\n\t\t\tconst blockClassList = Array.from( ctaContainer.classList );\n\t\t\tlet ctaSection;\n\n\t\t\tif ( blockClassList ) {\n\t\t\t\tblockClassList.forEach( ( className ) => {\n\t\t\t\t\tif ( className.indexOf( 'trackingSection-' ) === 0 ) {\n\t\t\t\t\t\tctaSection = className.replace( 'trackingSection-', '' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\taddEventListeners( entity, 'click mousedown', ( e ) => {\n\t\t\t\t// Make sure a click event doesn't trigger twice.\n\t\t\t\tif ( e.type === 'click' || ( e.button && [ 1, 2 ].includes( e.button ) ) ) {\n\t\t\t\t\tlet ctaText = entity.innerText.replace( /\\s/g, '' ).toLowerCase();\n\n\t\t\t\t\tif ( entity.contains( entity.querySelector( 'img' ) ) ) {\n\t\t\t\t\t\tctaText = 'Image alt tag not present';\n\t\t\t\t\t\tif ( entity.querySelector( 'img' ).getAttribute( 'alt' ) !== '' ) {\n\t\t\t\t\t\t\tctaText = entity.querySelector( 'img' ).getAttribute( 'alt' );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttrack( 'gtm', { event, ctaText, ctaSection } );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n};\n\n/**\n * Set core attribution tracking cookies.\n *\n * @param {number|Date} expiry When should the cookies expire.\n */\nconst setCoreCookies = ( expiry = 30 ) => {\n\tconst landingTime = new Date().toISOString().replace( /^([\\d-]+)T([\\d:]+).*Z$/, '$1+$2' );\n\n\tcreateCookieIfMissing( 'fb_landing_time', landingTime, expiry );\n\tcreateCookieIfMissing( 'fb_landtime', landingTime, expiry );\n\tcreateCookieIfMissing( 'fb_landing_url', window.location.href, expiry );\n\tcreateCookieIfMissing( 'fb_entrypage', window.location.pathname, expiry );\n\n\tif ( document.referrer ) {\n\t\tcreateCookieIfMissing( 'fb_referring_url', document.referrer, expiry );\n\t\tcreateCookieIfMissing( 'fb_referrer', document.referrer, expiry );\n\t}\n};\n\n/**\n * Set parameter based attribution tracking cookies (e.g., fb_referral_id).\n *\n * @param {Object} params Parameters used for setting attribution cookies.\n * @param {number|Date} expiry When should the cookies expire.\n */\nconst setParamCookies = ( params = {}, expiry = 30 ) => {\n\tconst cookies = {};\n\n\tif ( params.ref ) {\n\t\tcookies.fb_referral_id = params.ref;\n\t\tcookies.cookie_referral = params.ref;\n\t\tcookies.cookie_referral_type = params.reftype;\n\t\tcookies.cookie_referral_params = decodeURIComponent(\n\t\t\twindow.location.search.replace( /^\\?/, '' )\n\t\t);\n\t\tcookies.referral_present = true;\n\n\t\tconst existingCookieReferral = readCookie( 'cookie_referral' );\n\t\tif ( existingCookieReferral && ! readCookie( 'initial_cookie_referral' ) ) {\n\t\t\tcookies.initial_cookie_referral = existingCookieReferral;\n\t\t}\n\n\t\tif ( params.fb_source ) {\n\t\t\tcookies.cookie_referral_source = params.fb_source;\n\t\t}\n\t}\n\n\tif ( params.ref_systemid ) {\n\t\tcookies.cookie_referral_systemid = params.ref_systemid;\n\t}\n\n\tif ( params.c1 && params.source && params.kw ) {\n\t\tcookies.referral_present = true;\n\n\t\tconst existingCookieC1 = readCookie( 'cookie_c1' );\n\t\tconst existingCookieSource = readCookie( 'cookie_source' );\n\t\tconst existingCookieKw = readCookie( 'cookie_kw' );\n\t\tconst existingCookieTime = readCookie( 'cookie_time' );\n\n\t\tif (\n\t\t\texistingCookieC1 &&\n\t\t\texistingCookieSource &&\n\t\t\texistingCookieKw &&\n\t\t\texistingCookieTime &&\n\t\t\t! readCookie( 'initial_cookie_c1' ) &&\n\t\t\t! readCookie( 'initial_cookie_source' ) &&\n\t\t\t! readCookie( 'initial_cookie_time' )\n\t\t) {\n\t\t\tcookies.initial_cookie_c1 = existingCookieC1;\n\t\t\tcookies.initial_cookie_source = existingCookieSource;\n\t\t\tcookies.initial_cookie_kw = existingCookieKw;\n\t\t\tcookies.initial_cookie_time = existingCookieTime;\n\t\t}\n\n\t\tcookies.cookie_c1 = params.c1;\n\t\tcookies.cookie_source = params.source;\n\t\tcookies.cookie_kw = params.kw;\n\t\tcookies.cookie_time = Math.floor( Date.now() / 1000 );\n\t}\n\n\tObject.keys( cookies ).forEach( ( name ) => {\n\t\tif ( cookies[ name ] ) {\n\t\t\tcreateCookie( name, cookies[ name ], expiry );\n\t\t}\n\t} );\n};\n\n/**\n * Initialise our attribution tracking logic.\n */\nexport const initAttributionTracking = () => {\n\tif ( ! isCookiePolicyDeclined() ) {\n\t\tconst now = new Date();\n\t\tconst expiry = new Date( now.getTime() + 24 * 60 * 60 * 1000 * 30 );\n\t\tconst params = parseQueryString( window.location.search );\n\t\tconst existingLandingUrl = readCookie( 'fb_landing_url' );\n\t\tconst existingLandingParams = parseQueryString( existingLandingUrl );\n\n\t\tconst noNewRef = ! params.ref && existingLandingParams.ref;\n\t\tconst preserveRef =\n\t\t\texistingLandingUrl &&\n\t\t\tisSameDomain( document.referrer || '' ) &&\n\t\t\t( ! params.ref || existingLandingParams.ref === params.ref );\n\n\t\tif ( ! noNewRef && ! preserveRef ) {\n\t\t\tsetCoreCookies( expiry );\n\t\t}\n\n\t\tif ( params ) {\n\t\t\tsetParamCookies( params, expiry );\n\t\t}\n\t}\n};\n","/**\n * Validation module.\n */\n\nimport _isEmail from 'validator/lib/isEmail';\nimport isNumeric from 'validator/lib/isNumeric';\nimport _isPostalCode from 'validator/lib/isPostalCode';\nimport _isURL from 'validator/lib/isURL';\nimport isPlainObject from 'is-plain-obj';\n\nconst regex = {\n\talpha: /^[a-zA-Z ]+$/,\n\talphaNumeric: /^[a-zA-Z0-9 ]+$/,\n\tphoneNumber: /^\\+?[0-9\\-\\s\\.\\(\\)#x]+$/,\n};\n\n/**\n * Determines if a string is empty.\n *\n * @param {*} data var to be checked.\n * @param {Object} options Options to allow different interpretations of the data.\n */\nexport const isEmpty = ( data, options = {} ) => {\n\tconst { allowZero = false, allowSpaces = false } = options;\n\tconst dataType = typeof data;\n\n\tif ( dataType === 'undefined' ) {\n\t\treturn true;\n\t}\n\n\t// Number.\n\tif ( dataType === 'number' ) {\n\t\treturn ! ( data || ( data === 0 && allowZero ) );\n\t}\n\n\t// A plain object.\n\tif ( dataType === 'object' && isPlainObject( data ) ) {\n\t\treturn Object.keys( data ).length === 0;\n\t}\n\n\tif ( dataType === 'string' && ! allowSpaces ) {\n\t\tdata = data.trim();\n\t}\n\n\t// For strings and arrays, check length.\n\tif ( data && data.length === 0 ) {\n\t\treturn true;\n\t}\n\n\t// All other cases are truthy/falsey.\n\treturn ! data;\n};\n\n/**\n * Checks if a given string is alpha (with spaces).\n *\n * @param {string} string String to be checked.\n */\nexport const isAlpha = ( string ) => {\n\tif ( ! isEmpty( string ) ) {\n\t\treturn regex.alpha.test( string );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given string is alphanumeric (with spaces).\n *\n * @param {string} string String to be checked.\n */\nexport const isAlphanumeric = ( string ) => {\n\tif ( ! isEmpty( string ) ) {\n\t\treturn regex.alphaNumeric.test( string );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given value is numeric.\n *\n * @param {string} string string to be checked.\n */\nexport const isNumber = ( string ) => {\n\tif ( ! isEmpty( string ) ) {\n\t\treturn isNumeric( string );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given value is a Postal Code.\n *\n * @param {string} string string to be checked.\n * @param {string} locale the locale to check the string against.\n */\nexport const isPostalCode = ( string, locale = 'US' ) => {\n\tif ( ! isEmpty( string ) ) {\n\t\treturn _isPostalCode( string, locale );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given value is a URL.\n *\n * @param {string} url string to be checked.\n */\nexport const isURL = ( url ) => {\n\tif ( ! isEmpty( url ) ) {\n\t\treturn _isURL( url );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given email is valid.\n *\n * @param {string} email String to be checked.\n */\nexport const isEmail = ( email ) => {\n\tif ( ! isEmpty( email ) ) {\n\t\treturn _isEmail( email );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given phone is valid.\n *\n * @param {string} phone String to be checked.\n */\nexport const isPhone = ( phone ) => {\n\tif ( ! isEmpty( phone ) ) {\n\t\treturn regex.phoneNumber.test( phone );\n\t}\n\treturn false;\n};\n\n/**\n * Checks if a given number is within a range.\n *\n * @param {number} number Number to be checked.\n * @param {number} min The minimum value of the range.\n * @param {number} max The maximum value of the range.\n */\nexport const isInRange = ( number, min, max ) => {\n\tif (\n\t\t[ number, min, max ].filter(\n\t\t\t( arg ) => 'number' === typeof arg && ! isEmpty( arg, { allowZero: true } )\n\t\t).length === 3\n\t) {\n\t\treturn number >= min && number <= max;\n\t}\n\treturn false;\n};\n\n/**\n * Compares data against a given set of patterns.\n *\n * @param {Object} data Entity to be checked.\n * @param {Array} patterns A set of patterns to check the entity against.\n */\nexport const matchesPatterns = ( data, patterns = [] ) => {\n\tif ( ! isEmpty( data ) ) {\n\t\treturn (\n\t\t\tpatterns.length &&\n\t\t\tpatterns.length === patterns.filter( ( pattern ) => pattern.test( data ) ).length\n\t\t);\n\t}\n};\n"],"sourceRoot":""}