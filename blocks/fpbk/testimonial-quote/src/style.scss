// Testimonial Quote.

@import '~styles/freshpress-includes';

// All px sizes below come from mocks.
.testimonial-quote {
	max-width: 300px;

	@include media-breakpoint-up( md ) {
		max-width: 736px;
	}

	@include media-breakpoint-up( lg ) {
		max-width: 820px;
	}

	&__inner {
		margin-bottom: 50px;

		@include media-breakpoint-up( lg ) {
			margin-bottom: 0;
		}
	}

	&__text {
		@include media-breakpoint-up( md ) {
			flex-basis: 86%;
			padding-right: 75px;
		}

		@include media-breakpoint-up( xl ) {
			flex-basis: 66%;
		}
	}

	&__quote {
		&_sm {
			font-size: px-to-rem( 16px );
			line-height: calc( 31 / 16 );

			@include media-breakpoint-up( md ) {
				font-size: px-to-rem( 19px );
				line-height: calc( 37 / 20 );
			}

			@include media-breakpoint-up( lg ) {
				font-size: px-to-rem( 22px );
				line-height: calc( 43 / 29 );
			}
		}

		&_md {
			font-size: px-to-rem( 18px );
			line-height: calc( 31 / 18 );

			@include media-breakpoint-up( md ) {
				font-size: px-to-rem( 22px );
				line-height: calc( 37 / 22 );
			}

			@include media-breakpoint-up( lg ) {
				font-size: px-to-rem( 25px );
				line-height: calc( 43 / 25 );
			}
		}

		&_lg {
			font-size: px-to-rem( 21px );
			line-height: calc( 31 / 21 );

			@include media-breakpoint-up( md ) {
				font-size: px-to-rem( 25px );
				line-height: calc( 37 / 25 );
			}

			@include media-breakpoint-up( lg ) {
				font-size: px-to-rem( 29px );
				line-height: calc( 43 / 29 );
			}
		}

		&::before {
			position: absolute;
			top: -30px;
			left: -10px;
			z-index: -1;
			width: 58px;
			height: 48px;
			background: url( ./../../../../assets/images/testimonial-quote/quote.svg ) no-repeat
				center center;
			background-size: 58px 48px;
			content: '';
		}
	}

	&__author-name,
	&__author-description,
	&__author-location {
		font-weight: $font-weight-medium;
		font-size: px-to-rem( 13px );
		line-height: calc( 16 / 16 );

		@include media-breakpoint-up( lg ) {
			font-size: px-to-rem( 15px );
			line-height: calc( 18 / 16 );
		}
	}

	&__attribution-text {
		flex-basis: 84%;
	}

	&__image-container {
		max-width: 280px;
		height: auto;
		padding-top: 7px;

		&_small {
			flex-basis: 16%;
		}

		&_large {
			flex-basis: 33%;
		}

		img {
			width: 100%;
			height: auto;
		}
	}

	/* Even though the styles below are only used when the rating widget is
	set to show up, they are located here to make use of the cleaner &__ syntax.
	If we decide it's better to include them inside the
	&.testimonial-quote_with-rating rule below,
	we will need to make the &__ replacements.
	*/
	&__getapp-reviews {
		border-top: 1px solid $rule-grey-secondary;
		border-bottom: 1px solid $rule-grey-secondary;

		@include media-breakpoint-up( lg ) {
			flex-direction: column !important;
			padding-left: 60px;
			border-top: 0;
			border-bottom: 0;
		}

		.testimonial-quote__getapp-reviews-title {
			color: $fresh-blue;
			font-size: px-to-rem( 28px );
			line-height: calc( 36 / 30 );

			@include media-breakpoint-up( md ) {
				max-width: 350px;
			}

			@include media-breakpoint-up( lg ) {
				max-width: none;
			}

			@include media-breakpoint-up( xl ) {
				font-size: px-to-rem( 34px );
				line-height: calc( 43 / 36 );
			}
		}

		&-widget {
			@include media-breakpoint-up( md ) {
				margin-left: 20px;
			}

			@include media-breakpoint-up( lg ) {
				margin-left: 0;
			}
		}

		.rating {
			justify-content: center;

			&.rating__wrap_1 {
				flex-direction: column;
			}

			&__top {
				margin-right: 0 !important;
			}

			&__category {
				font-size: px-to-rem( 21px );
				line-height: calc( 25 / 21 );

				@include media-breakpoint-up( md ) {
					font-size: px-to-rem( 25px );
					line-height: calc( 31 / 25 );
				}

				@include media-breakpoint-up( lg ) {
					font-size: px-to-rem( 21px );
					line-height: calc( 25 / 21 );
				}

				@include media-breakpoint-up( xl ) {
					font-size: px-to-rem( 25px );
					line-height: calc( 30 / 25 );
				}
			}

			&__description,
			&__location {
				@include media-breakpoint-up( md ) {
					font-size: px-to-rem( 17px );
					line-height: calc( 21 / 17 );
				}

				@include media-breakpoint-up( lg ) {
					font-size: px-to-rem( 14px );
					line-height: calc( 18 / 14 );
				}

				@include media-breakpoint-up( xl ) {
					font-size: px-to-rem( 17px );
					line-height: calc( 20 / 17 );
				}
			}

			&__star-image {
				@include media-breakpoint-up( md ) {
					width: 162px;
					height: auto;
				}

				@include media-breakpoint-up( lg ) {
					width: 134px;
				}

				@include media-breakpoint-up( xl ) {
					width: 161px;
				}
			}
		}
	}

	// These are the overrides for when the rating widget is included.
	&.testimonial-quote_with-rating {
		max-width: 1034px;

		@include media-breakpoint-up( xl ) {
			max-width: 1250px;
		}

		.testimonial-quote__inner {
			@include media-breakpoint-up( lg ) {
				justify-content: center;
				max-width: 598px;
				padding-right: 60px;
				border-right: 1px solid $rule-grey-secondary;
			}

			@include media-breakpoint-up( xl ) {
				max-width: 783px;
			}
		}

		.testimonial-quote__author-name,
		.testimonial-quote__author-description,
		.testimonial-quote__author-location {
			@include media-breakpoint-up( lg ) {
				font-size: px-to-rem( 11px );
				line-height: calc( 13 / 11 );
			}

			@include media-breakpoint-up( xl ) {
				font-size: px-to-rem( 13px );
				line-height: calc( 16 / 13 );
			}
		}
	}
}
